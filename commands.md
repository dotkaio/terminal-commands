<h2 id="contents"><a class="toclink" href="#contents">Contents</a></h2>
<ul>
<li><a href="#appearance">Appearance</a><ul>
<li><a href="#dark-mode">Dark Mode</a></li>
<li><a href="#proxy-icon">Proxy Icon</a></li>
<li><a href="#subpixel-anti-aliasing-font-smoothing">Subpixel Anti-Aliasing</a></li>
<li><a href="#transparency">Transparency</a></li>
<li><a href="#wallpaper">Wallpaper</a></li>
</ul>
</li>
<li><a href="#applications">Applications</a><ul>
<li><a href="#app-store">App Store</a></li>
<li><a href="#apple-remote-desktop">Apple Remote Desktop</a></li>
<li><a href="#contacts">Contacts</a></li>
<li><a href="#google">Google</a></li>
<li><a href="#itunes">iTunes</a></li>
<li><a href="#mail">Mail</a></li>
<li><a href="#safari">Safari</a></li>
<li><a href="#sketch">Sketch</a></li>
<li><a href="#skim">Skim</a></li>
<li><a href="#terminal">Terminal</a></li>
<li><a href="#textedit">TextEdit</a></li>
<li><a href="#visual-studio-code">Visual Studio Code</a></li>
</ul>
</li>
<li><a href="#backup">Backup</a><ul>
<li><a href="#time-machine">Time Machine</a></li>
</ul>
</li>
<li><a href="#developer">Developer</a><ul>
<li><a href="#vim">Vim</a></li>
<li><a href="#xcode">Xcode</a></li>
</ul>
</li>
<li><a href="#dock">Dock</a></li>
<li><a href="#documents">Documents</a></li>
<li><a href="#files-disks-and-volumes">Files, Disks and Volumes</a><ul>
<li><a href="#apfs">APFS</a></li>
<li><a href="#disk-images">Disk Images</a></li>
</ul>
</li>
<li><a href="#finder">Finder</a><ul>
<li><a href="#desktop">Desktop</a></li>
<li><a href="#files-and-folders">Files and Folders</a></li>
<li><a href="#layout">Layout</a></li>
<li><a href="#metadata-files">Metadata Files</a></li>
<li><a href="#opening-things">Opening Things</a></li>
</ul>
</li>
<li><a href="#fonts">Fonts</a></li>
<li><a href="#functions">Functions</a></li>
<li><a href="#hardware">Hardware</a><ul>
<li><a href="#bluetooth">Bluetooth</a></li>
<li><a href="#harddisks">Harddisks</a></li>
<li><a href="#hardware-information">Hardware Information</a></li>
<li><a href="#infrared-receiver">Infrared Receiver</a></li>
<li><a href="#power-management">Power Management</a></li>
</ul>
</li>
<li><a href="#input-devices">Input Devices</a><ul>
<li><a href="#keyboard">Keyboard</a></li>
</ul>
</li>
<li><a href="#launchpad">Launchpad</a></li>
<li><a href="#media">Media</a><ul>
<li><a href="#audio">Audio</a></li>
<li><a href="#video">Video</a></li>
</ul>
</li>
<li><a href="#networking">Networking</a><ul>
<li><a href="#bonjour">Bonjour</a></li>
<li><a href="#dhcp">DHCP</a></li>
<li><a href="#dns">DNS</a></li>
<li><a href="#hostname">Hostname</a></li>
<li><a href="#network-preferences">Network Preferences</a></li>
<li><a href="#networking-tools">Networking Tools</a></li>
<li><a href="#ssh">SSH</a></li>
<li><a href="#tcpip">TCP/IP</a></li>
<li><a href="#tftp">TFTP</a></li>
<li><a href="#wi-fi">Wi-Fi</a></li>
</ul>
</li>
<li><a href="#package-managers">Package Managers</a></li>
<li><a href="#printing">Printing</a></li>
<li><a href="#security">Security</a><ul>
<li><a href="#application-firewall">Application Firewall</a></li>
<li><a href="#gatekeeper">Gatekeeper</a></li>
<li><a href="#passwords">Passwords</a></li>
<li><a href="#physical-access">Physical Access</a></li>
<li><a href="#privacy-database">Privacy Database</a></li>
<li><a href="#wiping-data">Wiping Data</a></li>
</ul>
</li>
<li><a href="#search">Search</a><ul>
<li><a href="#find">Find</a></li>
<li><a href="#locate">Locate</a></li>
</ul>
</li>
<li><a href="#system">System</a><ul>
<li><a href="#airdrop">AirDrop</a></li>
<li><a href="#applescript">AppleScript</a></li>
<li><a href="#basics">Basics</a></li>
<li><a href="#clipboard">Clipboard</a></li>
<li><a href="#date-and-time">Date and Time</a></li>
<li><a href="#filevault">FileVault</a></li>
<li><a href="#informationreports">Information/Reports</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#kernel-extensions">Kernel Extensions</a></li>
<li><a href="#launchagents">LaunchAgents</a></li>
<li><a href="#launchservices">LaunchServices</a></li>
<li><a href="#login-window">Login Window</a></li>
<li><a href="#memory-management">Memory Management</a></li>
<li><a href="#notification-center">Notification Center</a></li>
<li><a href="#quicklook">QuickLook</a></li>
<li><a href="#remote-management">Remote Management</a></li>
<li><a href="#root-user">Root User</a></li>
<li><a href="#safe-mode-boot">Safe Mode Boot</a></li>
<li><a href="#save-dialogs">Save Dialogs</a></li>
<li><a href="#screenshots">Screenshots</a></li>
<li><a href="#sidecar">Sidecar</a></li>
<li><a href="#software-installation">Software Installation</a></li>
<li><a href="#software-update">Software Update</a></li>
<li><a href="#software-version">Software Version</a></li>
<li><a href="#spotlight">Spotlight</a></li>
<li><a href="#system-integrity-protection">System Integrity Protection</a></li>
</ul>
</li>
<li><a href="#terminal">Terminal</a><ul>
<li><a href="#alternative-terminals">Alternative Terminals</a></li>
<li><a href="#shells">Shells</a></li>
<li><a href="#terminal-fonts">Terminal Fonts</a></li>
</ul>
</li>
<li><a href="#glossary">Glossary</a><ul>
<li><a href="#mac-os-x-os-x-and-macos-version-information">Mac OS X, OS X, and macOS Version Information</a></li>
</ul>
</li>
</ul>
<h2 id="appearance"><a class="toclink" href="#appearance">Appearance</a></h2>
<h3 id="dark-mode"><a class="toclink" href="#dark-mode">Dark Mode</a></h3>
<h4 id="exclude-app-from-dark-mode"><a class="toclink" href="#exclude-app-from-dark-mode">Exclude App From Dark Mode</a></h4>
<p>This is useful for older applications that run properly but haven't been 
updated to work properly with dark mode. Change app name <code>Notes</code> to the 
actual application you want to target.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write <span class="k">$(</span>osascript -e <span class="s1">'id of app "Notes"'</span><span class="k">)</span> NSRequiresAquaSystemAppearance -bool <span class="nb">true</span>

<span class="c1"># Disable (Default)</span>
defaults delete <span class="k">$(</span>osascript -e <span class="s1">'id of app "Notes"'</span><span class="k">)</span> NSRequiresAquaSystemAppearance
</code></pre></div>

<h3 id="proxy-icon"><a class="toclink" href="#proxy-icon">Proxy Icon</a></h3>
<h4 id="remove-proxy-icon-hover-delay"><a class="toclink" href="#remove-proxy-icon-hover-delay">Remove Proxy Icon Hover Delay</a></h4>
<p>In macOS 11 (Big Sur), the document proxy icon was hidden by default. This 
restores the former always-visible state.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
defaults write -g NSToolbarTitleViewRolloverDelay -float <span class="m">0</span>

<span class="c1"># Enable (Default)</span>
defaults delete -g NSToolbarTitleViewRolloverDelay
</code></pre></div>

<h3 id="subpixel-anti-aliasing-font-smoothing"><a class="toclink" href="#subpixel-anti-aliasing-font-smoothing">Subpixel Anti-Aliasing (Font Smoothing)</a></h3>
<p>Setting present since macOS 10.14 (Mojave).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write -g CGFontRenderingFontSmoothingDisabled -bool <span class="nb">false</span>

<span class="c1"># Disable (Default)</span>
defaults write -g CGFontRenderingFontSmoothingDisabled -bool <span class="nb">true</span>

<span class="c1"># Per Application</span>
defaults write com.apple.textedit CGFontRenderingFontSmoothingDisabled -bool <span class="nb">false</span>

<span class="c1"># Revert for Application</span>
defaults delete com.apple.textedit CGFontRenderingFontSmoothingDisabled
</code></pre></div>

<h3 id="transparency"><a class="toclink" href="#transparency">Transparency</a></h3>
<h4 id="transparency-in-menu-and-windows"><a class="toclink" href="#transparency-in-menu-and-windows">Transparency in Menu and Windows</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Reduce Transparency</span>
defaults write com.apple.universalaccess reduceTransparency -bool <span class="nb">true</span>

<span class="c1"># Restore Default Transparency</span>
defaults write com.apple.universalaccess reduceTransparency -bool <span class="nb">false</span>
</code></pre></div>

<h3 id="wallpaper"><a class="toclink" href="#wallpaper">Wallpaper</a></h3>
<h4 id="set-wallpaper"><a class="toclink" href="#set-wallpaper">Set Wallpaper</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Up to OS X 10.8 (Mountain Lion)</span>
osascript -e <span class="s1">'tell application "Finder" to set desktop picture to POSIX file "/path/to/picture.jpg"'</span>

<span class="c1"># Since OS X 10.9 (Mavericks)</span>
sqlite3 ~/Library/Application<span class="se">\ </span>Support/Dock/desktoppicture.db <span class="s2">"update data set value = '/path/to/picture.jpg'"</span> <span class="o">&amp;&amp;</span> killall Dock
</code></pre></div>

<h2 id="applications"><a class="toclink" href="#applications">Applications</a></h2>
<h3 id="app-store"><a class="toclink" href="#app-store">App Store</a></h3>
<h4 id="list-all-apps-downloaded-from-app-store"><a class="toclink" href="#list-all-apps-downloaded-from-app-store">List All Apps Downloaded from App Store</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Via find</span>
find /Applications -path <span class="s1">'*Contents/_MASReceipt/receipt'</span> -maxdepth <span class="m">4</span> -print <span class="p">|</span><span class="se">\s</span>ed <span class="s1">'s#.app/Contents/_MASReceipt/receipt#.app#g; s#/Applications/##'</span>

<span class="c1"># Via Spotlight</span>
mdfind <span class="nv">kMDItemAppStoreHasReceipt</span><span class="o">=</span><span class="m">1</span>
</code></pre></div>

<h4 id="show-debug-menu"><a class="toclink" href="#show-debug-menu">Show Debug Menu</a></h4>
<p>Works up to OS X 10.10 (Yosemite).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.appstore ShowDebugMenu -bool <span class="nb">true</span>

<span class="c1"># Disable (Default)</span>
defaults write com.apple.appstore ShowDebugMenu -bool <span class="nb">false</span>
</code></pre></div>

<h3 id="apple-remote-desktop"><a class="toclink" href="#apple-remote-desktop">Apple Remote Desktop</a></h3>
<h4 id="kickstart-manual-pages"><a class="toclink" href="#kickstart-manual-pages">Kickstart Manual Pages</a></h4>
<div class="highlight"><pre><span></span><code>sudo /System/Library/CoreServices/RemoteManagement/ARDAgent.app/Contents/Resources/kickstart -help
</code></pre></div>

<h4 id="activate-and-deactivate-the-ard-agent-and-helper"><a class="toclink" href="#activate-and-deactivate-the-ard-agent-and-helper">Activate And Deactivate the ARD Agent and Helper</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Activate And Restart the ARD Agent and Helper</span>
sudo /System/Library/CoreServices/RemoteManagement/ARDAgent.app/Contents/Resources/kickstart -activate -restart -agent -console

<span class="c1"># Deactivate and Stop the Remote Management Service</span>
sudo /System/Library/CoreServices/RemoteManagement/ARDAgent.app/Contents/Resources/kickstart -deactivate -stop
</code></pre></div>

<h4 id="remote-desktop-sharing"><a class="toclink" href="#remote-desktop-sharing">Remote Desktop Sharing</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Allow Access for All Users and Give All Users Full Access</span>
sudo /System/Library/CoreServices/RemoteManagement/ARDAgent.app/Contents/Resources/kickstart -configure -allowAccessFor -allUsers -privs -all

<span class="c1"># Disable ARD Agent and Remove Access Privileges for All Users (Default)</span>
sudo /System/Library/CoreServices/RemoteManagement/ARDAgent.app/Contents/Resources/kickstart -deactivate -configure -access -off
</code></pre></div>

<h4 id="remove-apple-remote-desktop-settings"><a class="toclink" href="#remove-apple-remote-desktop-settings">Remove Apple Remote Desktop Settings</a></h4>
<div class="highlight"><pre><span></span><code>sudo rm -rf /var/db/RemoteManagement <span class="p">;</span> <span class="se">\</span>
sudo defaults delete /Library/Preferences/com.apple.RemoteDesktop.plist <span class="p">;</span> <span class="se">\</span>
defaults delete ~/Library/Preferences/com.apple.RemoteDesktop.plist <span class="p">;</span> <span class="se">\</span>
sudo rm -r /Library/Application<span class="se">\ </span>Support/Apple/Remote<span class="se">\ </span>Desktop/ <span class="p">;</span> <span class="se">\</span>
rm -r ~/Library/Application<span class="se">\ </span>Support/Remote<span class="se">\ </span>Desktop/ <span class="p">;</span> <span class="se">\</span>
rm -r ~/Library/Containers/com.apple.RemoteDesktop
</code></pre></div>

<h3 id="contacts"><a class="toclink" href="#contacts">Contacts</a></h3>
<h4 id="debug-mode"><a class="toclink" href="#debug-mode">Debug Mode</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.addressbook ABShowDebugMenu -bool <span class="nb">true</span>

<span class="c1"># Disable (Default)</span>
defaults write com.apple.addressbook ABShowDebugMenu -bool <span class="nb">false</span>
</code></pre></div>

<h3 id="google"><a class="toclink" href="#google">Google</a></h3>
<h4 id="uninstall-google-update"><a class="toclink" href="#uninstall-google-update">Uninstall Google Update</a></h4>
<div class="highlight"><pre><span></span><code>~/Library/Google/GoogleSoftwareUpdate/GoogleSoftwareUpdate.bundle/Contents/Resources/ksinstall --nuke
</code></pre></div>

<h3 id="itunes"><a class="toclink" href="#itunes">iTunes</a></h3>
<h4 id="keyboard-media-keys"><a class="toclink" href="#keyboard-media-keys">Keyboard Media Keys</a></h4>
<p>Works up to OS X 10.10 (Yosemite). System Integrity Protection was introduced
in OS X 10.11 (El Capitan) which prevents system Launch Agents from being
unloaded.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Stop Responding to Key Presses</span>
launchctl unload -w /System/Library/LaunchAgents/com.apple.rcd.plist

<span class="c1"># Respond to Key Presses (Default)</span>
launchctl load -w /System/Library/LaunchAgents/com.apple.rcd.plist
</code></pre></div>

<p>From OS X 10.11 (El Capitan) on, you can either disable SIP or resort to a kind
of hack, which will make iTunes inaccessible to any user, effectively
preventing it from starting itself or its helpers. Be aware that for all
intents and purposes this will trash your iTunes installation and may conflict
with OS updates down the road.</p>
<div class="highlight"><pre><span></span><code>sudo chmod <span class="m">0000</span> /Applications/iTunes.app
</code></pre></div>

<h3 id="mail"><a class="toclink" href="#mail">Mail</a></h3>
<h4 id="show-attachments-as-icons"><a class="toclink" href="#show-attachments-as-icons">Show Attachments as Icons</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.mail DisableInlineAttachmentViewing -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="vacuum-mail-index"><a class="toclink" href="#vacuum-mail-index">Vacuum Mail Index</a></h4>
<p>The AppleScript code below will quit Mail, vacuum the SQLite index, then
re-open Mail. On a large email database that hasn't been optimized for a while,
this can provide significant improvements in responsiveness and speed.</p>
<div class="highlight"><pre><span></span><code><span class="cm">(*</span>
<span class="cm">Speed up Mail.app by vacuuming the Envelope Index</span>
<span class="cm">Code from: http://web.archive.org/web/20071008123746/http://www.hawkwings.net/2007/03/03/scripts-to-automate-the-mailapp-envelope-speed-trick/</span>
<span class="cm">Originally by "pmbuko" with modifications by Romulo</span>
<span class="cm">Updated by Brett Terpstra 2012</span>
<span class="cm">Updated by Mathias Törnblom 2015 to support V3 in El Capitan and still keep backwards compatibility</span>
<span class="cm">Updated by Andrei Miclaus 2017 to support V4 in Sierra</span>
<span class="cm">*)</span>

<span class="k">tell</span> <span class="nb">application</span> <span class="s2">"Mail"</span> <span class="k">to</span> <span class="nb">quit</span>
<span class="k">set</span> <span class="nv">os_version</span> <span class="k">to</span> <span class="nb">do shell script</span> <span class="s2">"sw_vers -productVersion"</span>
<span class="k">set</span> <span class="nv">mail_version</span> <span class="k">to</span> <span class="s2">"V2"</span>
<span class="k">considering </span><span class="nb">numeric strings</span>
    <span class="k">if</span> <span class="s2">"10.10"</span> <span class="o">&lt;=</span> <span class="nv">os_version</span> <span class="k">then</span> <span class="k">set</span> <span class="nv">mail_version</span> <span class="k">to</span> <span class="s2">"V3"</span>
    <span class="k">if</span> <span class="s2">"10.12"</span> <span class="o">&lt;=</span> <span class="nv">os_version</span> <span class="k">then</span> <span class="k">set</span> <span class="nv">mail_version</span> <span class="k">to</span> <span class="s2">"V4"</span>
    <span class="k">if</span> <span class="s2">"10.13"</span> <span class="o">&lt;=</span> <span class="nv">os_version</span> <span class="k">then</span> <span class="k">set</span> <span class="nv">mail_version</span> <span class="k">to</span> <span class="s2">"V5"</span>
    <span class="k">if</span> <span class="s2">"10.14"</span> <span class="o">&lt;=</span> <span class="nv">os_version</span> <span class="k">then</span> <span class="k">set</span> <span class="nv">mail_version</span> <span class="k">to</span> <span class="s2">"V6"</span>
    <span class="k">if</span> <span class="s2">"10.15"</span> <span class="o">&lt;=</span> <span class="nv">os_version</span> <span class="k">then</span> <span class="k">set</span> <span class="nv">mail_version</span> <span class="k">to</span> <span class="s2">"V7"</span>
    <span class="k">if</span> <span class="s2">"11"</span> <span class="o">&lt;=</span> <span class="nv">os_version</span> <span class="k">then</span> <span class="k">set</span> <span class="nv">mail_version</span> <span class="k">to</span> <span class="s2">"V8"</span>
<span class="k">end</span> <span class="k">considering</span>

<span class="k">set</span> <span class="nv">sizeBefore</span> <span class="k">to</span> <span class="nb">do shell script</span> <span class="s2">"ls -lnah ~/Library/Mail/"</span> <span class="o">&amp;</span> <span class="nv">mail_version</span> <span class="o">&amp;</span> <span class="s2">"/MailData | grep -E 'Envelope Index$' | awk {'print $5'}"</span>
<span class="nb">do shell script</span> <span class="s2">"/usr/bin/sqlite3 ~/Library/Mail/"</span> <span class="o">&amp;</span> <span class="nv">mail_version</span> <span class="o">&amp;</span> <span class="s2">"/MailData/Envelope\\ Index vacuum"</span>

<span class="k">set</span> <span class="nv">sizeAfter</span> <span class="k">to</span> <span class="nb">do shell script</span> <span class="s2">"ls -lnah ~/Library/Mail/"</span> <span class="o">&amp;</span> <span class="nv">mail_version</span> <span class="o">&amp;</span> <span class="s2">"/MailData | grep -E 'Envelope Index$' | awk {'print $5'}"</span>

<span class="nb">display dialog</span> <span class="p">(</span><span class="s2">"Mail index before: "</span> <span class="o">&amp;</span> <span class="nv">sizeBefore</span> <span class="o">&amp;</span> <span class="no">return</span> <span class="o">&amp;</span> <span class="s2">"Mail index after: "</span> <span class="o">&amp;</span> <span class="nv">sizeAfter</span> <span class="o">&amp;</span> <span class="no">return</span> <span class="o">&amp;</span> <span class="no">return</span> <span class="o">&amp;</span> <span class="s2">"Enjoy the new speed!"</span><span class="p">)</span>

<span class="k">tell</span> <span class="nb">application</span> <span class="s2">"Mail"</span> <span class="k">to</span> <span class="nb">activate</span>
</code></pre></div>

<p>Since the above AppleScript mainly uses shell commands anyway, here's a shell
script version of the same functionality. It's usable from Big Sur onwards.
Feel free to send a patch for newer systems. I currently don't have the money
for a machine capable of running macOS 12+.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/zsh</span>

<span class="c1">#</span>
<span class="c1"># Speed up Mail.app by vacuuming the Envelope Index</span>
<span class="c1"># Written by Marcel Bischoff</span>
<span class="c1"># AppleScript original by "pmbuko" with modifications by Romulo</span>
<span class="c1">#</span>

<span class="nv">OS_VERSION</span><span class="o">=</span><span class="k">$(</span>sw_vers -productVersion <span class="p">|</span> cut -d. -f <span class="m">1</span>,2<span class="k">)</span>
<span class="nv">MAIL_RUNNING</span><span class="o">=</span><span class="k">$(</span>ps aux <span class="p">|</span> grep -v grep <span class="p">|</span> grep -c <span class="s2">"Mail\$"</span><span class="k">)</span>
<span class="nv">MAIL_VERSION</span><span class="o">=</span><span class="s2">"V2"</span>

<span class="k">if</span> <span class="o">[</span> <span class="nv">$MAIL_RUNNING</span> -gt <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> osascript -e <span class="s1">'tell application "Mail" to quit'</span><span class="p">;</span> <span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> <span class="m">1</span> -eq <span class="s2">"</span><span class="k">$(</span><span class="nb">echo</span> <span class="s2">"11 &lt;= </span><span class="si">${</span><span class="nv">OS_VERSION</span><span class="si">}</span><span class="s2">"</span> <span class="p">|</span> bc<span class="k">)</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="nv">MAIL_VERSION</span><span class="o">=</span><span class="s2">"V8"</span><span class="p">;</span> <span class="k">fi</span>

<span class="nv">SIZE_BEFORE</span><span class="o">=</span><span class="k">$(</span>ls -lnah ~/Library/Mail/<span class="si">${</span><span class="nv">MAIL_VERSION</span><span class="si">}</span>/MailData <span class="p">|</span> grep -E <span class="s1">'Envelope Index$'</span> <span class="p">|</span> awk <span class="o">{</span><span class="s1">'print $5'</span><span class="o">}</span><span class="k">)</span>
/usr/bin/sqlite3 ~/Library/Mail/<span class="si">${</span><span class="nv">MAIL_VERSION</span><span class="si">}</span>/MailData/Envelope<span class="se">\ </span>Index vacuum
<span class="nv">SIZE_AFTER</span><span class="o">=</span><span class="k">$(</span>ls -lnah ~/Library/Mail/<span class="si">${</span><span class="nv">MAIL_VERSION</span><span class="si">}</span>/MailData <span class="p">|</span> grep -E <span class="s1">'Envelope Index$'</span> <span class="p">|</span> awk <span class="o">{</span><span class="s1">'print $5'</span><span class="o">}</span><span class="k">)</span>

<span class="nb">printf</span> <span class="s2">"Mail index before: %s\nMail index after: %s\n"</span> <span class="nv">$SIZE_BEFORE</span> <span class="nv">$SIZE_AFTER</span>
</code></pre></div>

<h3 id="safari"><a class="toclink" href="#safari">Safari</a></h3>
<h4 id="change-default-fonts"><a class="toclink" href="#change-default-fonts">Change Default Fonts</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2StandardFontFamily Georgia
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2DefaultFontSize <span class="m">16</span>
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2FixedFontFamily Menlo
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2DefaultFixedFontSize <span class="m">14</span>
</code></pre></div>

<h4 id="develop-menu-and-web-inspector"><a class="toclink" href="#develop-menu-and-web-inspector">Develop Menu and Web Inspector</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.Safari IncludeInternalDebugMenu -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.Safari IncludeDevelopMenu -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2DeveloperExtrasEnabled -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write -g WebKitDeveloperExtras -bool <span class="nb">true</span>

<span class="c1"># Disable (Default)</span>
defaults delete com.apple.Safari IncludeInternalDebugMenu <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults delete com.apple.Safari IncludeDevelopMenu <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults delete com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults delete com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2DeveloperExtrasEnabled <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults delete -g WebKitDeveloperExtras
</code></pre></div>

<h4 id="get-current-page-data"><a class="toclink" href="#get-current-page-data">Get Current Page Data</a></h4>
<p>Other options: <code>get source</code>, <code>get text</code>.</p>
<div class="highlight"><pre><span></span><code>osascript -e <span class="s1">'tell application "Safari" to get URL of current tab of front window'</span>
</code></pre></div>

<h4 id="use-backspacedelete-to-go-back-a-page"><a class="toclink" href="#use-backspacedelete-to-go-back-a-page">Use Backspace/Delete to Go Back a Page</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2BackspaceKeyNavigationEnabled -bool <span class="nb">true</span>

<span class="c1"># Disable (Default)</span>
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2BackspaceKeyNavigationEnabled -bool <span class="nb">false</span>
</code></pre></div>

<h3 id="sketch"><a class="toclink" href="#sketch">Sketch</a></h3>
<h4 id="export-compact-svgs"><a class="toclink" href="#export-compact-svgs">Export Compact SVGs</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.bohemiancoding.sketch3 exportCompactSVG -bool <span class="nb">true</span>
</code></pre></div>

<h3 id="skim"><a class="toclink" href="#skim">Skim</a></h3>
<h4 id="turn-off-auto-reload-dialog"><a class="toclink" href="#turn-off-auto-reload-dialog">Turn Off Auto Reload Dialog</a></h4>
<p>Removes the dialog and defaults to auto reload.</p>
<div class="highlight"><pre><span></span><code>defaults write -app Skim SKAutoReloadFileUpdate -boolean <span class="nb">true</span>
</code></pre></div>

<h3 id="terminal"><a class="toclink" href="#terminal">Terminal</a></h3>
<h4 id="focus-follows-mouse"><a class="toclink" href="#focus-follows-mouse">Focus Follows Mouse</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.Terminal FocusFollowsMouse -string <span class="nb">true</span>

<span class="c1"># Disable (Default)</span>
defaults write com.apple.Terminal FocusFollowsMouse -string <span class="nb">false</span>
</code></pre></div>

<h3 id="textedit"><a class="toclink" href="#textedit">TextEdit</a></h3>
<h4 id="create-an-untitled-document-at-launch"><a class="toclink" href="#create-an-untitled-document-at-launch">Create an Untitled Document at Launch</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.TextEdit NSShowAppCentricOpenPanelInsteadOfUntitledFile -bool <span class="nb">false</span>
</code></pre></div>

<h4 id="use-plain-text-mode-as-default"><a class="toclink" href="#use-plain-text-mode-as-default">Use Plain Text Mode as Default</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.TextEdit RichText -int <span class="m">0</span>
</code></pre></div>

<h3 id="visual-studio-code"><a class="toclink" href="#visual-studio-code">Visual Studio Code</a></h3>
<h4 id="vscodevim-key-repeat"><a class="toclink" href="#vscodevim-key-repeat">VSCodeVim Key Repeat</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.microsoft.VSCode ApplePressAndHoldEnabled -bool <span class="nb">false</span>

<span class="c1"># Disable (Default)</span>
defaults delete com.microsoft.VSCode ApplePressAndHoldEnabled
</code></pre></div>

<h4 id="subpixel-anti-aliasing"><a class="toclink" href="#subpixel-anti-aliasing">Subpixel Anti-Aliasing</a></h4>
<p>Setting present since macOS 10.14 (Mojave). See also system-wide setting:
<a href="#subpixel-anti-aliasing-font-smoothing">Subpixel Anti-Aliasing</a></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.microsoft.VSCode CGFontRenderingFontSmoothingDisabled -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.microsoft.VSCode.helper CGFontRenderingFontSmoothingDisabled -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.microsoft.VSCode.helper.EH CGFontRenderingFontSmoothingDisabled -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.microsoft.VSCode.helper.NP CGFontRenderingFontSmoothingDisabled -bool <span class="nb">false</span>

<span class="c1"># Disable (Default)</span>
defaults delete com.microsoft.VSCode CGFontRenderingFontSmoothingDisabled <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults delete com.microsoft.VSCode.helper CGFontRenderingFontSmoothingDisabled <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults delete com.microsoft.VSCode.helper.EH CGFontRenderingFontSmoothingDisabled <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults delete com.microsoft.VSCode.helper.NP CGFontRenderingFontSmoothingDisabled
</code></pre></div>

<h2 id="backup"><a class="toclink" href="#backup">Backup</a></h2>
<h3 id="time-machine"><a class="toclink" href="#time-machine">Time Machine</a></h3>
<h4 id="activation"><a class="toclink" href="#activation">Activation</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
sudo tmutil <span class="nb">enable</span>

<span class="c1"># Disable</span>
sudo tmutil disable

<span class="c1"># Start backup immediately</span>
tmutil startbackup

<span class="c1"># Stop backup immediately</span>
tmutil stopbackup
</code></pre></div>

<h4 id="change-backup-interval"><a class="toclink" href="#change-backup-interval">Change Backup Interval</a></h4>
<p>This changes the interval to 30 minutes. The integer value is the time in
seconds.</p>
<div class="highlight"><pre><span></span><code>sudo defaults write /System/Library/LaunchDaemons/com.apple.backupd-auto StartInterval -int <span class="m">1800</span>
</code></pre></div>

<h4 id="exclude-files"><a class="toclink" href="#exclude-files">Exclude Files</a></h4>
<div class="highlight"><pre><span></span><code>sudo tmutil addexclusion /path/to/file/or/folder
</code></pre></div>

<h4 id="local-backups"><a class="toclink" href="#local-backups">Local Backups</a></h4>
<p>Whether Time Machine performs local backups while the Time Machine backup
volume is not available.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
defaults <span class="nb">read</span> /Library/Preferences/com.apple.TimeMachine MobileBackups

<span class="c1"># Enable (Default)</span>
sudo tmutil enablelocal

<span class="c1"># Disable</span>
sudo tmutil disablelocal
</code></pre></div>

<p>Since macOS 10.13 (High Sierra), you cannot disable local snapshots. Time
Machine now always creates a local APFS snapshot and uses that snapshot as the
data source to create a regular backup, rather than using the live disk as the
source, as is the case with HFS formatted disks.</p>
<h4 id="manage-backup-volumes"><a class="toclink" href="#manage-backup-volumes">Manage Backup Volumes</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Info</span>
tmutil destinationinfo

<span class="c1"># Remove current destination</span>
tmutil removedestination

<span class="c1"># Set physical disk destination</span>
tmutil setdestination /path/to/volume/or/volume/name

<span class="c1"># Set network destination</span>
tmutil setdestination -p smb://10.20.30.40/share
</code></pre></div>

<h4 id="prevent-time-machine-from-prompting-to-use-new-hard-drives-as-backup-volume"><a class="toclink" href="#prevent-time-machine-from-prompting-to-use-new-hard-drives-as-backup-volume">Prevent Time Machine from Prompting to Use New Hard Drives as Backup Volume</a></h4>
<div class="highlight"><pre><span></span><code>sudo defaults write /Library/Preferences/com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="show-time-machine-logs"><a class="toclink" href="#show-time-machine-logs">Show Time Machine Logs</a></h4>
<p>This little script will output the last 12 hours of Time Machine activity
followed by live activity.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>

<span class="nv">filter</span><span class="o">=</span><span class="s1">'processImagePath contains "backupd" and subsystem beginswith "com.apple.TimeMachine"'</span>

<span class="c1"># show the last 12 hours</span>
<span class="nv">start</span><span class="o">=</span><span class="s2">"</span><span class="k">$(</span>date -j -v-12H +<span class="s1">'%Y-%m-%d %H:%M:%S'</span><span class="k">)</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">""</span>
<span class="nb">echo</span> <span class="s2">"[History (from </span><span class="nv">$start</span><span class="s2">)]"</span>
<span class="nb">echo</span> <span class="s2">""</span>

log show --style syslog --info --start <span class="s2">"</span><span class="nv">$start</span><span class="s2">"</span> --predicate <span class="s2">"</span><span class="nv">$filter</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">""</span>
<span class="nb">echo</span> <span class="s2">"[Following]"</span>
<span class="nb">echo</span> <span class="s2">""</span>

log stream --style syslog --info --predicate <span class="s2">"</span><span class="nv">$filter</span><span class="s2">"</span>
</code></pre></div>

<h4 id="toggle-backup-while-on-battery"><a class="toclink" href="#toggle-backup-while-on-battery">Toggle Backup While on Battery</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
sudo defaults <span class="nb">read</span> /Library/Preferences/com.apple.TimeMachine RequiresACPower

<span class="c1"># Enable (Default)</span>
sudo defaults write /Library/Preferences/com.apple.TimeMachine RequiresACPower -bool <span class="nb">true</span>

<span class="c1"># Disable</span>
sudo defaults write /Library/Preferences/com.apple.TimeMachine RequiresACPower -bool <span class="nb">false</span>
</code></pre></div>

<h4 id="time-machine-statistics"><a class="toclink" href="#time-machine-statistics">Time Machine Statistics</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># List all backups</span>
tmutil listbackups

<span class="c1"># Show differences</span>
tmutil calculatedrift /path/to/backup/folder/plus/machine/name/folder
</code></pre></div>

<h4 id="verify-backup"><a class="toclink" href="#verify-backup">Verify Backup</a></h4>
<p>Beginning in OS X 10.11, Time Machine records checksums of files copied into
snapshots. Checksums are not retroactively computed for files that were copied
by earlier releases of OS X.</p>
<div class="highlight"><pre><span></span><code>sudo tmutil verifychecksums /path/to/backup
</code></pre></div>

<h2 id="developer"><a class="toclink" href="#developer">Developer</a></h2>
<h3 id="vim"><a class="toclink" href="#vim">Vim</a></h3>
<h4 id="compile-sane-vim"><a class="toclink" href="#compile-sane-vim">Compile Sane Vim</a></h4>
<p>Compiling MacVim via Homebrew with all bells and whistles, including overriding
system Vim.</p>
<div class="highlight"><pre><span></span><code>brew install macvim --HEAD
</code></pre></div>

<h4 id="neovim"><a class="toclink" href="#neovim">Neovim</a></h4>
<p>Install the modern Vim drop-in alternative via Homebrew.</p>
<div class="highlight"><pre><span></span><code>brew install neovim
</code></pre></div>

<h3 id="xcode"><a class="toclink" href="#xcode">Xcode</a></h3>
<h4 id="install-command-line-tools-without-xcode"><a class="toclink" href="#install-command-line-tools-without-xcode">Install Command Line Tools without Xcode</a></h4>
<div class="highlight"><pre><span></span><code>xcode-select --install
</code></pre></div>

<h4 id="remove-all-unavailable-simulators"><a class="toclink" href="#remove-all-unavailable-simulators">Remove All Unavailable Simulators</a></h4>
<div class="highlight"><pre><span></span><code>xcrun simctl delete unavailable
</code></pre></div>

<h2 id="dock"><a class="toclink" href="#dock">Dock</a></h2>
<h4 id="add-a-stack-with-recent-applications"><a class="toclink" href="#add-a-stack-with-recent-applications">Add a Stack with Recent Applications</a></h4>
<p>Obsolete since macOS 10.14 (Mojave). See <a href="#show-recent-apps">Show Recent Apps</a>.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.dock persistent-others -array-add <span class="s1">'{ "tile-data" = { "list-type" = 1; }; "tile-type" = "recents-tile"; }'</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="add-a-nameless-stack-folder-and-small-spacer"><a class="toclink" href="#add-a-nameless-stack-folder-and-small-spacer">Add a Nameless Stack Folder and Small Spacer</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.dock persistent-others -array-add <span class="s1">'{ "tile-data" = {}; "tile-type"="small-spacer-tile"; }'</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="add-a-space"><a class="toclink" href="#add-a-space">Add a Space</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.dock persistent-apps -array-add <span class="s1">'{"tile-type"="spacer-tile";}'</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="add-a-small-space"><a class="toclink" href="#add-a-small-space">Add a Small Space</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.dock persistent-apps -array-add <span class="s1">'{"tile-type"="small-spacer-tile";}'</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="auto-rearrange-spaces-based-on-most-recent-use"><a class="toclink" href="#auto-rearrange-spaces-based-on-most-recent-use">Auto Rearrange Spaces Based on Most Recent Use</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable (Default)</span>
defaults write com.apple.dock mru-spaces -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable</span>
defaults write com.apple.dock mru-spaces -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="automatically-hide"><a class="toclink" href="#automatically-hide">Automatically Hide</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.dock autohide -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable (Default)</span>
defaults write com.apple.dock autohide -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="icon-bounce"><a class="toclink" href="#icon-bounce">Icon Bounce</a></h4>
<p>Global setting whether Dock icons should bounce when the respective application
demands your attention.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable (Default)</span>
defaults write com.apple.dock no-bouncing -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable</span>
defaults write com.apple.dock no-bouncing -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="lock-the-dock-size"><a class="toclink" href="#lock-the-dock-size">Lock the Dock Size</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.Dock size-immutable -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable (Default)</span>
defaults write com.apple.Dock size-immutable -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="reset-dock"><a class="toclink" href="#reset-dock">Reset Dock</a></h4>
<div class="highlight"><pre><span></span><code>defaults delete com.apple.dock <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="resize"><a class="toclink" href="#resize">Resize</a></h4>
<p>Fully resize your Dock's body. To resize change the <code>0</code> value as an integer.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.dock tilesize -int <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="scroll-gestures"><a class="toclink" href="#scroll-gestures">Scroll Gestures</a></h4>
<p>Use your touchpad or mouse scroll wheel to interact with Dock items. Allows you
to use an upward scrolling gesture to open stacks. Using the same gesture on
applications that are running invokes Exposé/Mission Control.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.dock scroll-to-open -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable (Default)</span>
defaults write com.apple.dock scroll-to-open -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="set-auto-showhide-delay"><a class="toclink" href="#set-auto-showhide-delay">Set Auto Show/Hide Delay</a></h4>
<p>The float number defines the show/hide delay in ms.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.dock autohide-time-modifier -float <span class="m">0</span>.4 <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.dock autohide-delay -float <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="show-hidden-app-icons"><a class="toclink" href="#show-hidden-app-icons">Show Hidden App Icons</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.dock showhidden -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable (Default)</span>
defaults write com.apple.dock showhidden -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="show-only-active-applications"><a class="toclink" href="#show-only-active-applications">Show Only Active Applications</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.dock static-only -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable (Default)</span>
defaults write com.apple.dock static-only -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="show-recent-apps"><a class="toclink" href="#show-recent-apps">Show Recent Apps</a></h4>
<p>Setting present since macOS 10.14 (Mojave).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
defaults write com.apple.dock show-recents -bool <span class="nb">false</span>  <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Enable (Default)</span>
defaults write com.apple.dock show-recents -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h4 id="single-app-mode"><a class="toclink" href="#single-app-mode">Single App Mode</a></h4>
<p>When clicking an application icon in the Dock, the respective windows will come
to the front, but all other application windows will be hidden.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.dock single-app -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># Disable (Default)</span>
defaults write com.apple.dock single-app -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h2 id="documents"><a class="toclink" href="#documents">Documents</a></h2>
<h4 id="convert-file-to-html"><a class="toclink" href="#convert-file-to-html">Convert File to HTML</a></h4>
<p>Supported formats are plain text, rich text (rtf) and Microsoft Word (doc/docx).</p>
<div class="highlight"><pre><span></span><code>textutil -convert html file.ext
</code></pre></div>

<h2 id="files-disks-and-volumes"><a class="toclink" href="#files-disks-and-volumes">Files, Disks and Volumes</a></h2>
<h4 id="create-an-empty-file"><a class="toclink" href="#create-an-empty-file">Create an Empty File</a></h4>
<p>Creates an empty 10 gigabyte test file.</p>
<div class="highlight"><pre><span></span><code>mkfile 10g /path/to/file
</code></pre></div>

<h4 id="disable-sudden-motion-sensor"><a class="toclink" href="#disable-sudden-motion-sensor">Disable Sudden Motion Sensor</a></h4>
<p>Leaving this turned on is useless when you're using SSDs.</p>
<div class="highlight"><pre><span></span><code>sudo pmset -a sms <span class="m">0</span>
</code></pre></div>

<h4 id="eject-all-mountable-volumes"><a class="toclink" href="#eject-all-mountable-volumes">Eject All Mountable Volumes</a></h4>
<p>The only reliable way to do this is by sending an AppleScript command to
Finder.</p>
<div class="highlight"><pre><span></span><code>osascript -e <span class="s1">'tell application "Finder" to eject (every disk whose ejectable is true)'</span>
</code></pre></div>

<h4 id="repair-file-permissions"><a class="toclink" href="#repair-file-permissions">Repair File Permissions</a></h4>
<p>You don't have to use the Disk Utility GUI for this.</p>
<div class="highlight"><pre><span></span><code>sudo diskutil repairPermissions /
</code></pre></div>

<blockquote>
<p>Beginning with OS X 10.11 (El Capitan), system file permissions are
automatically protected. It's no longer necessary to verify or repair
permissions with Disk Utility.
(<a href="https://support.apple.com/en-us/HT201560">Source</a>)</p>
</blockquote>
<h4 id="set-boot-volume"><a class="toclink" href="#set-boot-volume">Set Boot Volume</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Up to OS X 10.10 (Yosemite)</span>
bless --mount <span class="s2">"/path/to/mounted/volume"</span> --setBoot

<span class="c1"># From OS X 10.11 (El Capitan)</span>
sudo systemsetup -setstartupdisk /System/Library/CoreServices
</code></pre></div>

<h4 id="show-all-attached-disks-and-partitions"><a class="toclink" href="#show-all-attached-disks-and-partitions">Show All Attached Disks and Partitions</a></h4>
<div class="highlight"><pre><span></span><code>diskutil list
</code></pre></div>

<h4 id="view-file-system-usage"><a class="toclink" href="#view-file-system-usage">View File System Usage</a></h4>
<p>A continuous stream of file system access info.</p>
<div class="highlight"><pre><span></span><code>sudo fs_usage
</code></pre></div>

<h3 id="apfs"><a class="toclink" href="#apfs">APFS</a></h3>
<p>Present since macOS 10.13 (High Sierra). There is no central utility and usage
is inconsistent as most functionality is rolled into <code>tmutil</code>.</p>
<h4 id="convert-volume-from-hfs-to-apfs"><a class="toclink" href="#convert-volume-from-hfs-to-apfs">Convert Volume from HFS+ to APFS</a></h4>
<div class="highlight"><pre><span></span><code>/System/Library/Filesystems/apfs.fs/Contents/Resources/hfs_convert /path/to/file/system
</code></pre></div>

<h4 id="create-new-apfs-filesystem"><a class="toclink" href="#create-new-apfs-filesystem">Create New APFS Filesystem</a></h4>
<div class="highlight"><pre><span></span><code>/System/Library/Filesystems/apfs.fs/Contents/Resources/newfs_apfs /path/to/device
</code></pre></div>

<h4 id="create-snapshot"><a class="toclink" href="#create-snapshot">Create Snapshot</a></h4>
<div class="highlight"><pre><span></span><code>tmutil localsnapshot
</code></pre></div>

<h4 id="delete-snapshot"><a class="toclink" href="#delete-snapshot">Delete Snapshot</a></h4>
<div class="highlight"><pre><span></span><code>tmutil deletelocalsnapshots com.apple.TimeMachine.2018-01-26-044042
<span class="sb">````</span>

<span class="c1">#### List Snapshots</span>
<span class="sb">```</span>sh
tmutil listlocalsnapshots /
</code></pre></div>

<h4 id="mount-snapshot"><a class="toclink" href="#mount-snapshot">Mount Snapshot</a></h4>
<p>Snapshots are read-only.</p>
<div class="highlight"><pre><span></span><code>mkdir ~/mnt
/System/Library/Filesystems/apfs.fs/Contents/Resources/mount_apfs -s com.apple.TimeMachine.2018-01-26-044042 / ~/mnt
</code></pre></div>

<h3 id="disk-images"><a class="toclink" href="#disk-images">Disk Images</a></h3>
<h4 id="create-disk-image-from-folder-contents"><a class="toclink" href="#create-disk-image-from-folder-contents">Create Disk Image From Folder Contents</a></h4>
<div class="highlight"><pre><span></span><code>hdiutil create -volname <span class="s2">"Volume Name"</span> -srcfolder /path/to/folder -ov diskimage.dmg
</code></pre></div>

<p>If you'd like to encrypt the disk image:</p>
<div class="highlight"><pre><span></span><code>hdiutil create -encryption -stdinpass -volname <span class="s2">"Volume Name"</span> -srcfolder /path/to/folder -ov encrypted.dmg
</code></pre></div>

<p>By default, you'll be prompted for a password. You can automate that by piping
in a password:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span> -n YourPassword <span class="p">|</span> hdiutil create -encryption -stdinpass -volname <span class="s2">"Volume Name"</span> -srcfolder /path/to/folder -ov encrypted.dmg
</code></pre></div>

<h4 id="burn-disk-images-to-dvd"><a class="toclink" href="#burn-disk-images-to-dvd">Burn Disk Images to DVD</a></h4>
<p>This command applies to .iso, .img and .dmg images.</p>
<div class="highlight"><pre><span></span><code>hdiutil burn /path/to/image_file
</code></pre></div>

<h4 id="create-temporary-high-performance-disk"><a class="toclink" href="#create-temporary-high-performance-disk">Create Temporary High-Performance Disk</a></h4>
<p>The disk is backed by physical RAM and will be several times faster than an
SSD. The contents of the disk cannot be recovered after it has been ejected.
The example below is for a 500 MiB RAM disk, adjust as needed.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Up to macOS 10.14 (Mojave)</span>
<span class="nb">let</span> <span class="nv">DISKSIZE</span><span class="o">=</span><span class="m">500</span>*2048 <span class="o">&amp;&amp;</span> <span class="se">\</span>
diskutil erasevolume HFS+ <span class="s2">"RAM Disk"</span> <span class="sb">`</span>hdiutil attach -nomount ram://<span class="nv">$DISKSIZE</span><span class="sb">`</span>

<span class="c1"># From macOS 10.15 (Catalina) on</span>
<span class="nb">let</span> <span class="s2">"DISKSIZE = 500*2048"</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
diskutil erasevolume HFS+ <span class="s2">"RAM Disk"</span> <span class="sb">`</span>hdiutil attach -nomount ram://<span class="nv">$DISKSIZE</span><span class="sb">`</span>
</code></pre></div>

<h4 id="disable-disk-image-verification"><a class="toclink" href="#disable-disk-image-verification">Disable Disk Image Verification</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.frameworks.diskimages skip-verify -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.frameworks.diskimages skip-verify-locked -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.frameworks.diskimages skip-verify-remote -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="make-volume-os-x-bootable"><a class="toclink" href="#make-volume-os-x-bootable">Make Volume OS X Bootable</a></h4>
<div class="highlight"><pre><span></span><code>bless --folder <span class="s2">"/path/to/mounted/volume/System/Library/CoreServices"</span> --bootinfo --bootefi
</code></pre></div>

<h4 id="mount-disk-image"><a class="toclink" href="#mount-disk-image">Mount Disk Image</a></h4>
<div class="highlight"><pre><span></span><code>hdiutil attach /path/to/diskimage.dmg
</code></pre></div>

<h4 id="unmount-disk-image"><a class="toclink" href="#unmount-disk-image">Unmount Disk Image</a></h4>
<div class="highlight"><pre><span></span><code>hdiutil detach /dev/disk2s1
</code></pre></div>

<h4 id="write-disk-image-to-volume"><a class="toclink" href="#write-disk-image-to-volume">Write Disk Image to Volume</a></h4>
<p>Like the Disk Utility "Restore" function.</p>
<div class="highlight"><pre><span></span><code>sudo asr -restore -noverify -source /path/to/diskimage.dmg -target /Volumes/VolumeToRestoreTo
</code></pre></div>

<h2 id="finder"><a class="toclink" href="#finder">Finder</a></h2>
<h3 id="desktop"><a class="toclink" href="#desktop">Desktop</a></h3>
<h4 id="show-external-media"><a class="toclink" href="#show-external-media">Show External Media</a></h4>
<p>External HDs, thumb drives, etc.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder

<span class="c1"># Disable (Default)</span>
defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder
</code></pre></div>

<h4 id="show-internal-media"><a class="toclink" href="#show-internal-media">Show Internal Media</a></h4>
<p>Built-in HDs or SSDs.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.finder ShowHardDrivesOnDesktop -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder

<span class="c1"># Disable (Default)</span>
defaults write com.apple.finder ShowHardDrivesOnDesktop -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder
</code></pre></div>

<h4 id="show-removable-media"><a class="toclink" href="#show-removable-media">Show Removable Media</a></h4>
<p>CDs, DVDs, iPods, etc.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder

<span class="c1"># Disable (Default)</span>
defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder
</code></pre></div>

<h4 id="show-network-volumes"><a class="toclink" href="#show-network-volumes">Show Network Volumes</a></h4>
<p>AFP, SMB, NFS, WebDAV, etc.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.finder ShowMountedServersOnDesktop -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder

<span class="c1"># Disable (Default)</span>
defaults write com.apple.finder ShowMountedServersOnDesktop -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder
</code></pre></div>

<h3 id="files-and-folders"><a class="toclink" href="#files-and-folders">Files and Folders</a></h3>
<h4 id="clear-all-acls"><a class="toclink" href="#clear-all-acls">Clear All ACLs</a></h4>
<div class="highlight"><pre><span></span><code>sudo chmod -RN /path/to/folder
</code></pre></div>

<h4 id="increase-number-of-recent-places"><a class="toclink" href="#increase-number-of-recent-places">Increase Number of Recent Places</a></h4>
<div class="highlight"><pre><span></span><code>defaults write -g NSNavRecentPlacesLimit -int <span class="m">10</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder
</code></pre></div>

<h4 id="show-all-file-extensions"><a class="toclink" href="#show-all-file-extensions">Show All File Extensions</a></h4>
<div class="highlight"><pre><span></span><code>defaults write -g AppleShowAllExtensions -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="set-protected-flag"><a class="toclink" href="#set-protected-flag">Set Protected Flag</a></h4>
<p>This is equivalent to Finder "Locked" status.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable (Default)</span>
sudo chflags -R nouchg /path/to/file/or/folder

<span class="c1"># Enable</span>
sudo chflags -R uchg /path/to/file/or/folder
</code></pre></div>

<h4 id="show-hidden-files"><a class="toclink" href="#show-hidden-files">Show Hidden Files</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Show All</span>
defaults write com.apple.finder AppleShowAllFiles <span class="nb">true</span>

<span class="c1"># Restore Default File Visibility</span>
defaults write com.apple.finder AppleShowAllFiles <span class="nb">false</span>
</code></pre></div>

<h4 id="show-full-path-in-finder-title"><a class="toclink" href="#show-full-path-in-finder-title">Show Full Path in Finder Title</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.finder _FXShowPosixPathInTitle -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="toggle-folder-visibility-in-finder"><a class="toclink" href="#toggle-folder-visibility-in-finder">Toggle Folder Visibility in Finder</a></h4>
<p>By default, the <code>~/Library</code> folder is hidden. You can easily show it again. The
same method works with all other folders.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Hidden (Default)</span>
chflags hidden ~/Library

<span class="c1"># Visible</span>
chflags nohidden ~/Library
</code></pre></div>

<h3 id="layout"><a class="toclink" href="#layout">Layout</a></h3>
<h4 id="show-quit-finder-menu-item"><a class="toclink" href="#show-quit-finder-menu-item">Show "Quit Finder" Menu Item</a></h4>
<p>Makes possible to see Finder menu item "Quit Finder" with default shortcut
<kbd>Cmd</kbd> + <kbd>Q</kbd></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.finder QuitMenuItem -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder

<span class="c1"># Disable (Default)</span>
defaults write com.apple.finder QuitMenuItem -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder
</code></pre></div>

<h4 id="smooth-scrolling"><a class="toclink" href="#smooth-scrolling">Smooth Scrolling</a></h4>
<p>Useful if you’re on an older Mac that messes up the animation.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
defaults write -g NSScrollAnimationEnabled -bool <span class="nb">false</span>

<span class="c1"># Enable (Default)</span>
defaults write -g NSScrollAnimationEnabled -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="rubberband-scrolling"><a class="toclink" href="#rubberband-scrolling">Rubberband Scrolling</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
defaults write -g NSScrollViewRubberbanding -bool <span class="nb">false</span>

<span class="c1"># Enable (Default)</span>
defaults write -g NSScrollViewRubberbanding -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="expand-save-panel-by-default"><a class="toclink" href="#expand-save-panel-by-default">Expand Save Panel by Default</a></h4>
<div class="highlight"><pre><span></span><code>defaults write -g NSNavPanelExpandedStateForSaveMode -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write -g NSNavPanelExpandedStateForSaveMode2 -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="desktop-icon-visibility"><a class="toclink" href="#desktop-icon-visibility">Desktop Icon Visibility</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Hide Icons</span>
defaults write com.apple.finder CreateDesktop -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder

<span class="c1"># Show Icons (Default)</span>
defaults write com.apple.finder CreateDesktop -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Finder
</code></pre></div>

<h4 id="path-bar"><a class="toclink" href="#path-bar">Path Bar</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Show</span>
defaults write com.apple.finder ShowPathbar -bool <span class="nb">true</span>

<span class="c1"># Hide (Default)</span>
defaults write com.apple.finder ShowPathbar -bool <span class="nb">false</span>
</code></pre></div>

<h4 id="scrollbar-visibility"><a class="toclink" href="#scrollbar-visibility">Scrollbar Visibility</a></h4>
<p>Possible values: <code>WhenScrolling</code>, <code>Automatic</code> and <code>Always</code>.</p>
<div class="highlight"><pre><span></span><code>defaults write -g AppleShowScrollBars -string <span class="s2">"Always"</span>
</code></pre></div>

<h4 id="status-bar"><a class="toclink" href="#status-bar">Status Bar</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Show</span>
defaults write com.apple.finder ShowStatusBar -bool <span class="nb">true</span>

<span class="c1"># Hide (Default)</span>
defaults write com.apple.finder ShowStatusBar -bool <span class="nb">false</span>
</code></pre></div>

<h4 id="save-to-disk-by-default"><a class="toclink" href="#save-to-disk-by-default">Save to Disk by Default</a></h4>
<p>Sets default save target to be a local disk, not iCloud.</p>
<div class="highlight"><pre><span></span><code>defaults write -g NSDocumentSaveNewDocumentsToCloud -bool <span class="nb">false</span>
</code></pre></div>

<h4 id="set-current-folder-as-default-search-scope"><a class="toclink" href="#set-current-folder-as-default-search-scope">Set Current Folder as Default Search Scope</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.finder FXDefaultSearchScope -string <span class="s2">"SCcf"</span>
</code></pre></div>

<h4 id="set-default-finder-location-to-home-folder"><a class="toclink" href="#set-default-finder-location-to-home-folder">Set Default Finder Location to Home Folder</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.finder NewWindowTarget -string <span class="s2">"PfLo"</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.finder NewWindowTargetPath -string <span class="s2">"file://</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">"</span>
</code></pre></div>

<h4 id="set-sidebar-icon-size"><a class="toclink" href="#set-sidebar-icon-size">Set Sidebar Icon Size</a></h4>
<p>Sets size to 'medium'.</p>
<div class="highlight"><pre><span></span><code>defaults write -g NSTableViewDefaultSizeMode -int <span class="m">2</span>
</code></pre></div>

<h3 id="metadata-files"><a class="toclink" href="#metadata-files">Metadata Files</a></h3>
<h4 id="disable-creation-of-metadata-files-on-network-volumes"><a class="toclink" href="#disable-creation-of-metadata-files-on-network-volumes">Disable Creation of Metadata Files on Network Volumes</a></h4>
<p>Avoids creation of <code>.DS_Store</code> and AppleDouble files.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="disable-creation-of-metadata-files-on-usb-volumes"><a class="toclink" href="#disable-creation-of-metadata-files-on-usb-volumes">Disable Creation of Metadata Files on USB Volumes</a></h4>
<p>Avoids creation of <code>.DS_Store</code> and AppleDouble files.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.desktopservices DSDontWriteUSBStores -bool <span class="nb">true</span>
</code></pre></div>

<h3 id="opening-things"><a class="toclink" href="#opening-things">Opening Things</a></h3>
<h4 id="change-working-directory-to-finder-path"><a class="toclink" href="#change-working-directory-to-finder-path">Change Working Directory to Finder Path</a></h4>
<p>If multiple windows are open, it chooses the top-most one.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> <span class="s2">"</span><span class="k">$(</span>osascript -e <span class="s1">'tell app "Finder" to POSIX path of (insertion location as alias)'</span><span class="k">)</span><span class="s2">"</span>
</code></pre></div>

<h4 id="open-url"><a class="toclink" href="#open-url">Open URL</a></h4>
<div class="highlight"><pre><span></span><code>open https://herrbischoff.com
</code></pre></div>

<h4 id="open-file"><a class="toclink" href="#open-file">Open File</a></h4>
<div class="highlight"><pre><span></span><code>open README.md
</code></pre></div>

<h4 id="open-applications"><a class="toclink" href="#open-applications">Open Applications</a></h4>
<p>You can open applications using <code>-a</code>.</p>
<div class="highlight"><pre><span></span><code>open -a <span class="s2">"Google Chrome"</span> https://herrbischoff.com
</code></pre></div>

<h4 id="open-folder"><a class="toclink" href="#open-folder">Open Folder</a></h4>
<div class="highlight"><pre><span></span><code>open /path/to/folder/
</code></pre></div>

<h4 id="open-current-folder"><a class="toclink" href="#open-current-folder">Open Current Folder</a></h4>
<div class="highlight"><pre><span></span><code>open .
</code></pre></div>

<h2 id="fonts"><a class="toclink" href="#fonts">Fonts</a></h2>
<h4 id="clear-font-cache-for-current-user"><a class="toclink" href="#clear-font-cache-for-current-user">Clear Font Cache for Current User</a></h4>
<p>To clear font caches for all users, put <code>sudo</code> in front of these commands.</p>
<div class="highlight"><pre><span></span><code>atsutil databases -removeUser <span class="o">&amp;&amp;</span> <span class="se">\</span>
atsutil server -shutdown <span class="o">&amp;&amp;</span> <span class="se">\</span>
atsutil server -ping
</code></pre></div>

<h4 id="get-sf-mono-fonts"><a class="toclink" href="#get-sf-mono-fonts">Get SF Mono Fonts</a></h4>
<p>Starting in macOS 10.15 (Catalina), the Utilities apps (including Terminal.app)
are now found in the <code>/System</code> folder.</p>
<div class="highlight"><pre><span></span><code>cp -v /Applications/Xcode-beta.app/Contents/SharedFrameworks/DVTKit.framework/Versions/A/Resources/Fonts/SFMono-* ~/Library/Fonts
</code></pre></div>

<p>From macOS 10.12 (Sierra) on, they are included in Terminal.app.</p>
<div class="highlight"><pre><span></span><code>cp -v /Applications/Utilities/Terminal.app/Contents/Resources/Fonts/SFMono-* ~/Library/Fonts
</code></pre></div>

<p>In older OS versions, you need to download and install Xcode 8 beta for this to
work. Afterwards they should be available in all applications.</p>
<div class="highlight"><pre><span></span><code>cp -v /System/Applications/Utilities/Terminal.app/Contents/Resources/Fonts/SFMono-* ~/Library/Fonts
</code></pre></div>

<h2 id="functions"><a class="toclink" href="#functions">Functions</a></h2>
<p>Please see <a href="functions.md">this file</a>.</p>
<h2 id="hardware"><a class="toclink" href="#hardware">Hardware</a></h2>
<h3 id="bluetooth"><a class="toclink" href="#bluetooth">Bluetooth</a></h3>
<p>Up to OS X 10.12 (Sierra) the Bluetooth daemon is named <code>blued</code> instead of
<code>bluetoothd</code>. You need to adjust the <code>killall</code> command accordingly.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
defaults <span class="nb">read</span> /Library/Preferences/com.apple.Bluetooth ControllerPowerState

<span class="c1"># Enable (Default)</span>
sudo defaults write /Library/Preferences/com.apple.Bluetooth ControllerPowerState -int <span class="m">1</span>

<span class="c1"># Disable</span>
sudo defaults write /Library/Preferences/com.apple.Bluetooth ControllerPowerState -int <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
sudo killall -HUP bluetoothd
</code></pre></div>

<h3 id="harddisks"><a class="toclink" href="#harddisks">Harddisks</a></h3>
<h4 id="force-trim"><a class="toclink" href="#force-trim">Force Trim</a></h4>
<p>Enable Trim for non-Apple SSDs. This command is present since OS X 10.10 (Yosemite).</p>
<div class="highlight"><pre><span></span><code>trimforce
</code></pre></div>

<h3 id="hardware-information"><a class="toclink" href="#hardware-information">Hardware Information</a></h3>
<h4 id="list-all-hardware-ports"><a class="toclink" href="#list-all-hardware-ports">List All Hardware Ports</a></h4>
<div class="highlight"><pre><span></span><code>networksetup -listallhardwareports
</code></pre></div>

<h4 id="remaining-battery-percentage"><a class="toclink" href="#remaining-battery-percentage">Remaining Battery Percentage</a></h4>
<div class="highlight"><pre><span></span><code>pmset -g batt <span class="p">|</span> egrep <span class="s2">"([0-9]+\%).*"</span> -o --colour<span class="o">=</span>auto <span class="p">|</span> cut -f1 -d<span class="s1">';'</span>
</code></pre></div>

<h4 id="remaining-battery-time"><a class="toclink" href="#remaining-battery-time">Remaining Battery Time</a></h4>
<div class="highlight"><pre><span></span><code>pmset -g batt <span class="p">|</span> egrep <span class="s2">"([0-9]+\%).*"</span> -o --colour<span class="o">=</span>auto <span class="p">|</span> cut -f3 -d<span class="s1">';'</span>
</code></pre></div>

<h4 id="show-connected-devices-udid"><a class="toclink" href="#show-connected-devices-udid">Show Connected Device's UDID</a></h4>
<div class="highlight"><pre><span></span><code>system_profiler SPUSBDataType <span class="p">|</span> sed -n -e <span class="s1">'/iPad/,/Serial/p'</span> -e <span class="s1">'/iPhone/,/Serial/p'</span>
</code></pre></div>

<h4 id="show-current-screen-resolution"><a class="toclink" href="#show-current-screen-resolution">Show Current Screen Resolution</a></h4>
<div class="highlight"><pre><span></span><code>system_profiler SPDisplaysDataType <span class="p">|</span> grep Resolution
</code></pre></div>

<h4 id="show-cpu-brand-string"><a class="toclink" href="#show-cpu-brand-string">Show CPU Brand String</a></h4>
<div class="highlight"><pre><span></span><code>sysctl -n machdep.cpu.brand_string
</code></pre></div>

<h3 id="infrared-receiver"><a class="toclink" href="#infrared-receiver">Infrared Receiver</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
defaults <span class="nb">read</span> /Library/Preferences/com.apple.driver.AppleIRController DeviceEnabled

<span class="c1"># Enable (Default)</span>
defaults write /Library/Preferences/com.apple.driver.AppleIRController DeviceEnabled -int <span class="m">1</span>

<span class="c1"># Disable</span>
defaults write /Library/Preferences/com.apple.driver.AppleIRController DeviceEnabled -int <span class="m">0</span>
</code></pre></div>

<h3 id="power-management"><a class="toclink" href="#power-management">Power Management</a></h3>
<h4 id="prevent-system-sleep"><a class="toclink" href="#prevent-system-sleep">Prevent System Sleep</a></h4>
<p>Prevent sleep for 1 hour:</p>
<div class="highlight"><pre><span></span><code>caffeinate -u -t <span class="m">3600</span>
</code></pre></div>

<h4 id="show-all-power-management-settings"><a class="toclink" href="#show-all-power-management-settings">Show All Power Management Settings</a></h4>
<div class="highlight"><pre><span></span><code>sudo pmset -g
</code></pre></div>

<h4 id="put-display-to-sleep-after-15-minutes-of-inactivity"><a class="toclink" href="#put-display-to-sleep-after-15-minutes-of-inactivity">Put Display to Sleep after 15 Minutes of Inactivity</a></h4>
<div class="highlight"><pre><span></span><code>sudo pmset displaysleep <span class="m">15</span>
</code></pre></div>

<h4 id="put-computer-to-sleep-after-30-minutes-of-inactivity"><a class="toclink" href="#put-computer-to-sleep-after-30-minutes-of-inactivity">Put Computer to Sleep after 30 Minutes of Inactivity</a></h4>
<div class="highlight"><pre><span></span><code>sudo pmset sleep <span class="m">30</span>
</code></pre></div>

<h4 id="check-system-sleep-idle-time"><a class="toclink" href="#check-system-sleep-idle-time">Check System Sleep Idle Time</a></h4>
<div class="highlight"><pre><span></span><code>sudo systemsetup -getcomputersleep
</code></pre></div>

<h4 id="set-system-sleep-idle-time-to-60-minutes"><a class="toclink" href="#set-system-sleep-idle-time-to-60-minutes">Set System Sleep Idle Time to 60 Minutes</a></h4>
<div class="highlight"><pre><span></span><code>sudo systemsetup -setcomputersleep <span class="m">60</span>
</code></pre></div>

<h4 id="turn-off-system-sleep-completely"><a class="toclink" href="#turn-off-system-sleep-completely">Turn Off System Sleep Completely</a></h4>
<div class="highlight"><pre><span></span><code>sudo systemsetup -setcomputersleep Never
</code></pre></div>

<h4 id="automatic-restart-on-system-freeze"><a class="toclink" href="#automatic-restart-on-system-freeze">Automatic Restart on System Freeze</a></h4>
<div class="highlight"><pre><span></span><code>sudo systemsetup -setrestartfreeze on
</code></pre></div>

<h4 id="chime-when-charging"><a class="toclink" href="#chime-when-charging">Chime When Charging</a></h4>
<p>Play iOS charging sound when MagSafe is connected.</p>
<div class="highlight"><pre><span></span><code><span class="c1">## Up to macOS 10.12 (Sierra)</span>

<span class="c1"># Enable</span>
defaults write com.apple.PowerChime ChimeOnAllHardware -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
open /System/Library/CoreServices/PowerChime.app

<span class="c1"># Disable (Default)</span>
defaults write com.apple.PowerChime ChimeOnAllHardware -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall PowerChime
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">## From macOS 10.13 (High Sierra) on</span>

<span class="c1"># Enable (Default)</span>
defaults write com.apple.PowerChime ChimeOnNoHardware -bool <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
open /System/Library/CoreServices/PowerChime.app

<span class="c1"># Disable</span>
defaults write com.apple.PowerChime ChimeOnNoHardware -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall PowerChime
</code></pre></div>

<h2 id="input-devices"><a class="toclink" href="#input-devices">Input Devices</a></h2>
<h3 id="keyboard"><a class="toclink" href="#keyboard">Keyboard</a></h3>
<h4 id="auto-correct"><a class="toclink" href="#auto-correct">Auto-Correct</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
defaults write -g NSAutomaticSpellingCorrectionEnabled -bool <span class="nb">false</span>

<span class="c1"># Enable (Default)</span>
defaults write -g NSAutomaticSpellingCorrectionEnabled -bool <span class="nb">true</span>

<span class="c1"># Show Status</span>
defaults <span class="nb">read</span> -g NSAutomaticSpellingCorrectionEnabled
</code></pre></div>

<h4 id="full-keyboard-access"><a class="toclink" href="#full-keyboard-access">Full Keyboard Access</a></h4>
<p>Enable Tab in modal dialogs.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Text boxes and lists only (Default)</span>
defaults write NSGlobalDomain AppleKeyboardUIMode -int <span class="m">0</span>

<span class="c1"># All controls</span>
defaults write NSGlobalDomain AppleKeyboardUIMode -int <span class="m">3</span>
</code></pre></div>

<h4 id="key-repeat"><a class="toclink" href="#key-repeat">Key Repeat</a></h4>
<p>Change the "press and hold" behavior.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write -g ApplePressAndHoldEnabled -bool <span class="nb">false</span>

<span class="c1"># Disable (Default)</span>
defaults write -g ApplePressAndHoldEnabled -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="key-repeat-rate"><a class="toclink" href="#key-repeat-rate">Key Repeat Rate</a></h4>
<p>Sets a very fast repeat rate, adjust to taste.</p>
<div class="highlight"><pre><span></span><code>defaults write -g KeyRepeat -int <span class="m">0</span>.02
</code></pre></div>

<h2 id="launchpad"><a class="toclink" href="#launchpad">Launchpad</a></h2>
<h4 id="reset-launchpad-layout"><a class="toclink" href="#reset-launchpad-layout">Reset Launchpad Layout</a></h4>
<p>You need to restart <code>Dock</code> because Launchpad is tied to it.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Up to OS X 10.10 (Yosemite)</span>
rm ~/Library/Application<span class="se">\ </span>Support/Dock/*.db <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock

<span class="c1"># From OS X 10.11 (El Capitan)</span>
defaults write com.apple.dock ResetLaunchPad -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall Dock
</code></pre></div>

<h2 id="media"><a class="toclink" href="#media">Media</a></h2>
<h3 id="audio"><a class="toclink" href="#audio">Audio</a></h3>
<h4 id="convert-audio-file-to-iphone-ringtone"><a class="toclink" href="#convert-audio-file-to-iphone-ringtone">Convert Audio File to iPhone Ringtone</a></h4>
<div class="highlight"><pre><span></span><code>afconvert input.mp3 ringtone.m4r -f m4af
</code></pre></div>

<h4 id="create-audiobook-from-text"><a class="toclink" href="#create-audiobook-from-text">Create Audiobook From Text</a></h4>
<p>Uses "Alex" voice, a plain UTF-8 encoded text file for input and AAC output.</p>
<div class="highlight"><pre><span></span><code>say -v Alex -f file.txt -o <span class="s2">"output.m4a"</span>
</code></pre></div>

<h4 id="disable-sound-effects-on-boot"><a class="toclink" href="#disable-sound-effects-on-boot">Disable Sound Effects on Boot</a></h4>
<div class="highlight"><pre><span></span><code>sudo nvram <span class="nv">SystemAudioVolume</span><span class="o">=</span><span class="s2">" "</span>
</code></pre></div>

<h4 id="mute-audio-output"><a class="toclink" href="#mute-audio-output">Mute Audio Output</a></h4>
<div class="highlight"><pre><span></span><code>osascript -e <span class="s1">'set volume output muted true'</span>
</code></pre></div>

<h4 id="set-audio-volume"><a class="toclink" href="#set-audio-volume">Set Audio Volume</a></h4>
<div class="highlight"><pre><span></span><code>osascript -e <span class="s1">'set volume 4'</span>
</code></pre></div>

<h4 id="play-audio-file"><a class="toclink" href="#play-audio-file">Play Audio File</a></h4>
<p>You can play all audio formats that are natively supported by QuickTime.</p>
<div class="highlight"><pre><span></span><code>afplay -q <span class="m">1</span> filename.mp3
</code></pre></div>

<h4 id="speak-text-with-system-default-voice"><a class="toclink" href="#speak-text-with-system-default-voice">Speak Text with System Default Voice</a></h4>
<div class="highlight"><pre><span></span><code>say <span class="s1">'All your base are belong to us!'</span>
</code></pre></div>

<h4 id="startup-chime"><a class="toclink" href="#startup-chime">Startup Chime</a></h4>
<p>Older Macs:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable (Default)</span>
sudo nvram <span class="nv">BootAudio</span><span class="o">=</span>%01

<span class="c1"># Disable</span>
sudo nvram <span class="nv">BootAudio</span><span class="o">=</span>%00
</code></pre></div>

<p>From 2016 models on:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
sudo nvram <span class="nv">StartupMute</span><span class="o">=</span>%00

<span class="c1"># Disable (Default)</span>
sudo nvram <span class="nv">StartupMute</span><span class="o">=</span>%01
</code></pre></div>

<h3 id="video"><a class="toclink" href="#video">Video</a></h3>
<h4 id="auto-play-videos-in-quicktime-player"><a class="toclink" href="#auto-play-videos-in-quicktime-player">Auto-Play Videos in QuickTime Player</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.QuickTimePlayerX MGPlayMovieOnOpen <span class="m">1</span>
</code></pre></div>

<h2 id="networking"><a class="toclink" href="#networking">Networking</a></h2>
<h3 id="bonjour"><a class="toclink" href="#bonjour">Bonjour</a></h3>
<h4 id="bonjour-service"><a class="toclink" href="#bonjour-service">Bonjour Service</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
sudo defaults write /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist ProgramArguments -array-add <span class="s2">"-NoMulticastAdvertisements"</span>

<span class="c1"># Enable (Default)</span>
sudo defaults write /System/Library/LaunchDaemons/com.apple.mDNSResponder.plist ProgramArguments -array <span class="s2">"/usr/sbin/mDNSResponder"</span> <span class="s2">"-launchd"</span>
</code></pre></div>

<h3 id="dhcp"><a class="toclink" href="#dhcp">DHCP</a></h3>
<h4 id="renew-dhcp-lease"><a class="toclink" href="#renew-dhcp-lease">Renew DHCP Lease</a></h4>
<div class="highlight"><pre><span></span><code>sudo ipconfig <span class="nb">set</span> en0 DHCP
</code></pre></div>

<h4 id="show-dhcp-info"><a class="toclink" href="#show-dhcp-info">Show DHCP Info</a></h4>
<div class="highlight"><pre><span></span><code>ipconfig getpacket en0
</code></pre></div>

<h3 id="dns"><a class="toclink" href="#dns">DNS</a></h3>
<h4 id="clear-dns-cache"><a class="toclink" href="#clear-dns-cache">Clear DNS Cache</a></h4>
<div class="highlight"><pre><span></span><code>sudo dscacheutil -flushcache <span class="o">&amp;&amp;</span> <span class="se">\</span>
sudo killall -HUP mDNSResponder
</code></pre></div>

<h3 id="hostname"><a class="toclink" href="#hostname">Hostname</a></h3>
<h4 id="set-computer-namehost-name"><a class="toclink" href="#set-computer-namehost-name">Set Computer Name/Host Name</a></h4>
<div class="highlight"><pre><span></span><code>sudo scutil --set ComputerName <span class="s2">"newhostname"</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
sudo scutil --set HostName <span class="s2">"newhostname"</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
sudo scutil --set LocalHostName <span class="s2">"newhostname"</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
sudo defaults write /Library/Preferences/SystemConfiguration/com.apple.smb.server NetBIOSName -string <span class="s2">"newhostname"</span>
</code></pre></div>

<h3 id="network-preferences"><a class="toclink" href="#network-preferences">Network Preferences</a></h3>
<h4 id="network-locations"><a class="toclink" href="#network-locations">Network Locations</a></h4>
<p>Switch between network locations created in the Network preference pane.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
scselect

<span class="c1"># Switch Network Location</span>
scselect LocationNameFromStatus
</code></pre></div>

<h4 id="set-static-ip-address"><a class="toclink" href="#set-static-ip-address">Set Static IP Address</a></h4>
<div class="highlight"><pre><span></span><code>networksetup -setmanual <span class="s2">"Ethernet"</span> <span class="m">192</span>.168.2.100 <span class="m">255</span>.255.255.0 <span class="m">192</span>.168.2.1
</code></pre></div>

<h3 id="networking-tools"><a class="toclink" href="#networking-tools">Networking Tools</a></h3>
<h4 id="ping-a-host-to-see-whether-its-available"><a class="toclink" href="#ping-a-host-to-see-whether-its-available">Ping a Host to See Whether It’s Available</a></h4>
<div class="highlight"><pre><span></span><code>ping -o herrbischoff.com
</code></pre></div>

<h4 id="troubleshoot-routing-problems"><a class="toclink" href="#troubleshoot-routing-problems">Troubleshoot Routing Problems</a></h4>
<div class="highlight"><pre><span></span><code>traceroute herrbischoff.com
</code></pre></div>

<h3 id="ssh"><a class="toclink" href="#ssh">SSH</a></h3>
<h4 id="permanently-add-private-key-passphrase-to-ssh-agent"><a class="toclink" href="#permanently-add-private-key-passphrase-to-ssh-agent">Permanently Add Private Key Passphrase to SSH Agent</a></h4>
<blockquote>
<p>Prior to macOS 10.12 (Sierra), ssh would present a dialog asking for your
passphrase and would offer the option to store it into the keychain. This UI
was deprecated some time ago and has been removed.</p>
<p>Instead, a new UseKeychain option was introduced in macOS 10.12 (Sierra)
allowing users to specify whether they would like for the passphrase to be
stored in the keychain. This option was enabled by default on macOS 10.12
(Sierra), which caused all passphrases to be stored in the keychain.</p>
<p>This was not the intended default behavior, so this has been changed in macOS
10.12.2.
(<a href="https://developer.apple.com/library/archive/technotes/tn2449/_index.html">Source</a>)</p>
</blockquote>
<div class="highlight"><pre><span></span><code>ssh-add -K /path/to/private_key
</code></pre></div>

<p>Then add to <code>~/.ssh/config</code>:</p>
<div class="highlight"><pre><span></span><code>Host server.example.com
    IdentityFile /path/to/private_key
    UseKeychain yes
</code></pre></div>

<h4 id="remote-login"><a class="toclink" href="#remote-login">Remote Login</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
sudo launchctl load -w /System/Library/LaunchDaemons/ssh.plist

<span class="c1"># Disable (Default)</span>
sudo launchctl unload -w /System/Library/LaunchDaemons/ssh.plist
</code></pre></div>

<h3 id="tcpip"><a class="toclink" href="#tcpip">TCP/IP</a></h3>
<h4 id="show-application-using-a-certain-port"><a class="toclink" href="#show-application-using-a-certain-port">Show Application Using a Certain Port</a></h4>
<p>This outputs all applications currently using port 80.</p>
<div class="highlight"><pre><span></span><code>sudo lsof -i :80
</code></pre></div>

<h4 id="show-external-ip-address"><a class="toclink" href="#show-external-ip-address">Show External IP Address</a></h4>
<p>Works if your ISP doesn't replace DNS requests (which it shouldn't).</p>
<div class="highlight"><pre><span></span><code>dig +short myip.opendns.com @resolver1.opendns.com
</code></pre></div>

<p>Alternative that works on all networks.</p>
<div class="highlight"><pre><span></span><code>curl -s https://api.ipify.org <span class="o">&amp;&amp;</span> <span class="nb">echo</span>
</code></pre></div>

<h4 id="show-network-interface-information"><a class="toclink" href="#show-network-interface-information">Show Network Interface Information</a></h4>
<p>Undocumented flag of the <code>scutil</code> command.</p>
<div class="highlight"><pre><span></span><code>scutil --nwi
</code></pre></div>

<h3 id="tftp"><a class="toclink" href="#tftp">TFTP</a></h3>
<h4 id="start-native-tftp-daemon"><a class="toclink" href="#start-native-tftp-daemon">Start Native TFTP Daemon</a></h4>
<p>Files will be served from <code>/private/tftpboot</code>.</p>
<div class="highlight"><pre><span></span><code>sudo launchctl load -F /System/Library/LaunchDaemons/tftp.plist <span class="o">&amp;&amp;</span> <span class="se">\</span>
sudo launchctl start com.apple.tftpd
</code></pre></div>

<h3 id="wi-fi"><a class="toclink" href="#wi-fi">Wi-Fi</a></h3>
<h4 id="join-a-wi-fi-network"><a class="toclink" href="#join-a-wi-fi-network">Join a Wi-Fi Network</a></h4>
<div class="highlight"><pre><span></span><code>networksetup -setairportnetwork en0 WIFI_SSID WIFI_PASSWORD
</code></pre></div>

<h4 id="scan-available-access-points"><a class="toclink" href="#scan-available-access-points">Scan Available Access Points</a></h4>
<p>Create a symbolic link to the airport command for easy access:</p>
<div class="highlight"><pre><span></span><code>sudo ln -s /System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport /usr/local/bin/airport
</code></pre></div>

<p>Run a wireless scan:</p>
<div class="highlight"><pre><span></span><code>airport -s
</code></pre></div>

<h4 id="show-current-ssid"><a class="toclink" href="#show-current-ssid">Show Current SSID</a></h4>
<div class="highlight"><pre><span></span><code>/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I <span class="p">|</span> awk <span class="s1">'/ SSID/ {print substr($0, index($0, $2))}'</span>
</code></pre></div>

<h4 id="show-local-ip-address"><a class="toclink" href="#show-local-ip-address">Show Local IP Address</a></h4>
<div class="highlight"><pre><span></span><code>ipconfig getifaddr en0
</code></pre></div>

<h4 id="show-wi-fi-connection-history"><a class="toclink" href="#show-wi-fi-connection-history">Show Wi-Fi Connection History</a></h4>
<div class="highlight"><pre><span></span><code>defaults <span class="nb">read</span> /Library/Preferences/SystemConfiguration/com.apple.airport.preferences <span class="p">|</span> grep LastConnected -A <span class="m">7</span>
</code></pre></div>

<h4 id="show-wi-fi-network-passwords"><a class="toclink" href="#show-wi-fi-network-passwords">Show Wi-Fi Network Passwords</a></h4>
<p>Exchange SSID with the SSID of the access point you wish to query the password from.</p>
<div class="highlight"><pre><span></span><code>security find-generic-password -D <span class="s2">"AirPort network password"</span> -a <span class="s2">"SSID"</span> -gw
</code></pre></div>

<h4 id="turn-on-wi-fi-adapter"><a class="toclink" href="#turn-on-wi-fi-adapter">Turn on Wi-Fi Adapter</a></h4>
<div class="highlight"><pre><span></span><code>networksetup -setairportpower en0 on
</code></pre></div>

<h2 id="package-managers"><a class="toclink" href="#package-managers">Package Managers</a></h2>
<ul>
<li><a href="http://www.finkproject.org">Fink</a> - The full world of Unix Open Source
  software for Darwin. A little outdated.</li>
<li><a href="https://brew.sh">Homebrew</a> - The missing package manager for OS X. The most
  popular choice.</li>
<li><a href="https://www.macports.org">MacPorts</a> - Compile, install and upgrade either
  command-line, X11 or Aqua based open-source software.</li>
</ul>
<h3 id="homebrew"><a class="toclink" href="#homebrew">Homebrew</a></h3>
<h4 id="full-uninstall"><a class="toclink" href="#full-uninstall">Full Uninstall</a></h4>
<div class="highlight"><pre><span></span><code>ruby -e <span class="s2">"</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall<span class="k">)</span><span class="s2">"</span>
</code></pre></div>

<h2 id="printing"><a class="toclink" href="#printing">Printing</a></h2>
<h4 id="clear-print-queue"><a class="toclink" href="#clear-print-queue">Clear Print Queue</a></h4>
<div class="highlight"><pre><span></span><code>cancel -a -
</code></pre></div>

<h4 id="expand-print-panel-by-default"><a class="toclink" href="#expand-print-panel-by-default">Expand Print Panel by Default</a></h4>
<div class="highlight"><pre><span></span><code>defaults write -g PMPrintingExpandedStateForPrint -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write -g PMPrintingExpandedStateForPrint2 -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="quit-printer-app-after-print-jobs-complete"><a class="toclink" href="#quit-printer-app-after-print-jobs-complete">Quit Printer App After Print Jobs Complete</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.print.PrintingPrefs <span class="s2">"Quit When Finished"</span> -bool <span class="nb">true</span>
</code></pre></div>

<h2 id="security"><a class="toclink" href="#security">Security</a></h2>
<h3 id="application-firewall"><a class="toclink" href="#application-firewall">Application Firewall</a></h3>
<h4 id="firewall-service"><a class="toclink" href="#firewall-service">Firewall Service</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Show Status</span>
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate

<span class="c1"># Enable</span>
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate on

<span class="c1"># Disable (Default)</span>
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate off
</code></pre></div>

<h4 id="add-application-to-firewall"><a class="toclink" href="#add-application-to-firewall">Add Application to Firewall</a></h4>
<div class="highlight"><pre><span></span><code>sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /path/to/file
</code></pre></div>

<h3 id="gatekeeper"><a class="toclink" href="#gatekeeper">Gatekeeper</a></h3>
<h4 id="add-gatekeeper-exception"><a class="toclink" href="#add-gatekeeper-exception">Add Gatekeeper Exception</a></h4>
<div class="highlight"><pre><span></span><code>spctl --add /path/to/Application.app
</code></pre></div>

<h4 id="remove-gatekeeper-exception"><a class="toclink" href="#remove-gatekeeper-exception">Remove Gatekeeper Exception</a></h4>
<div class="highlight"><pre><span></span><code>spctl --remove /path/to/Application.app
</code></pre></div>

<h4 id="manage-gatekeeper"><a class="toclink" href="#manage-gatekeeper">Manage Gatekeeper</a></h4>
<p>Especially helpful with the annoying macOS 10.15 (Catalina) system popup
blocking execution of non-signed apps.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
spctl --status

<span class="c1"># Enable (Default)</span>
sudo spctl --master-enable

<span class="c1"># Disable</span>
sudo spctl --master-disable
</code></pre></div>

<h3 id="passwords"><a class="toclink" href="#passwords">Passwords</a></h3>
<h4 id="generate-secure-password-and-copy-to-clipboard"><a class="toclink" href="#generate-secure-password-and-copy-to-clipboard">Generate Secure Password and Copy to Clipboard</a></h4>
<div class="highlight"><pre><span></span><code><span class="nv">LC_ALL</span><span class="o">=</span>C tr -dc <span class="s2">"[:alnum:]"</span> &lt; /dev/urandom <span class="p">|</span> head -c <span class="m">20</span> <span class="p">|</span> pbcopy
</code></pre></div>

<h3 id="physical-access"><a class="toclink" href="#physical-access">Physical Access</a></h3>
<h4 id="launch-screen-saver"><a class="toclink" href="#launch-screen-saver">Launch Screen Saver</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Up to macOS 10.12 (Sierra)</span>
open /System/Library/Frameworks/ScreenSaver.framework/Versions/A/Resources/ScreenSaverEngine.app

<span class="c1"># From macOS 10.13 (High Sierra)</span>
/System/Library/CoreServices/ScreenSaverEngine.app/Contents/MacOS/ScreenSaverEngine
</code></pre></div>

<h4 id="lock-screen"><a class="toclink" href="#lock-screen">Lock Screen</a></h4>
<div class="highlight"><pre><span></span><code>/System/Library/CoreServices/Menu<span class="se">\ </span>Extras/User.menu/Contents/Resources/CGSession -suspend
</code></pre></div>

<h4 id="screensaver-immediate-lock"><a class="toclink" href="#screensaver-immediate-lock">Screensaver Immediate Lock</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
defaults <span class="nb">read</span> com.apple.screensaver askForPasswordDelay

<span class="c1"># Enable (Default)</span>
defaults write com.apple.screensaver askForPasswordDelay -int <span class="m">0</span>

<span class="c1"># Disable (Integer = lock delay in seconds)</span>
defaults write com.apple.screensaver askForPasswordDelay -int <span class="m">10</span>
</code></pre></div>

<h4 id="screensaver-password"><a class="toclink" href="#screensaver-password">Screensaver Password</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
defaults <span class="nb">read</span> com.apple.screensaver askForPassword

<span class="c1"># Enable</span>
defaults write com.apple.screensaver askForPassword -int <span class="m">1</span>

<span class="c1"># Disable (Default)</span>
defaults write com.apple.screensaver askForPassword -int <span class="m">0</span>
</code></pre></div>

<h3 id="privacy-database"><a class="toclink" href="#privacy-database">Privacy Database</a></h3>
<p>The <code>tccutil</code> command manages the privacy database, which stores decisions the
user has made about whether apps may access personal data. You need to close
all applications except Terminal before running any of these commands.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Full Reset for All Applications</span>
sudo tccutil reset All

<span class="c1"># Reset Adress Book Access</span>
sudo tccutil reset AddressBook

<span class="c1"># Reset All Permission for Terminal.app</span>
sudo tccutil reset All com.apple.Terminal
</code></pre></div>

<h3 id="wiping-data"><a class="toclink" href="#wiping-data">Wiping Data</a></h3>
<p>Note: The <code>srm</code> command appears to have been removed on MacOS after 10.9. There
is a note on an <a href="https://support.apple.com/en-us/HT201949">Apple support page</a>
hinting as to why:</p>
<blockquote>
<p>With an SSD drive, Secure Erase and Erasing Free Space are not available in
Disk Utility. These options are not needed for an SSD drive because a
standard erase makes it difficult to recover data from an SSD.</p>
</blockquote>
<h4 id="securely-remove-file"><a class="toclink" href="#securely-remove-file">Securely Remove File</a></h4>
<div class="highlight"><pre><span></span><code>srm /path/to/file
</code></pre></div>

<h4 id="securely-remove-folder"><a class="toclink" href="#securely-remove-folder">Securely Remove Folder</a></h4>
<div class="highlight"><pre><span></span><code>srm -r /path/to/folder/
</code></pre></div>

<h4 id="securely-remove-path-force"><a class="toclink" href="#securely-remove-path-force">Securely Remove Path (Force)</a></h4>
<div class="highlight"><pre><span></span><code>srm -rf /path/to/complete/destruction
</code></pre></div>

<h2 id="search"><a class="toclink" href="#search">Search</a></h2>
<h3 id="find"><a class="toclink" href="#find">Find</a></h3>
<h4 id="recursively-delete-ds_store-files"><a class="toclink" href="#recursively-delete-ds_store-files">Recursively Delete .DS_Store Files</a></h4>
<div class="highlight"><pre><span></span><code>find . -type f -name <span class="s1">'.DS_Store'</span> -ls -delete
</code></pre></div>

<h3 id="locate"><a class="toclink" href="#locate">Locate</a></h3>
<h4 id="build-locate-database"><a class="toclink" href="#build-locate-database">Build Locate Database</a></h4>
<div class="highlight"><pre><span></span><code>sudo launchctl load -w /System/Library/LaunchDaemons/com.apple.locate.plist
</code></pre></div>

<h4 id="search-via-locate"><a class="toclink" href="#search-via-locate">Search via Locate</a></h4>
<p>The <code>-i</code> modifier makes the search case insensitive.</p>
<div class="highlight"><pre><span></span><code>locate -i *.jpg
</code></pre></div>

<h2 id="system"><a class="toclink" href="#system">System</a></h2>
<h3 id="airdrop"><a class="toclink" href="#airdrop">AirDrop</a></h3>
<h4 id="airdrop-over-ethernet-on-unsupported-macs"><a class="toclink" href="#airdrop-over-ethernet-on-unsupported-macs">AirDrop over Ethernet on Unsupported Macs</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.NetworkBrowser BrowseAllInterfaces -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults remove com.apple.NetworkBrowser DisableAirDrop

<span class="c1"># Disable (Default)</span>
defaults delete com.apple.NetworkBrowser BrowseAllInterfaces <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.NetworkBrowser DisableAirDrop -bool <span class="nb">true</span>
</code></pre></div>

<h3 id="applescript"><a class="toclink" href="#applescript">AppleScript</a></h3>
<h4 id="execute-applescript"><a class="toclink" href="#execute-applescript">Execute AppleScript</a></h4>
<div class="highlight"><pre><span></span><code>osascript /path/to/script.scpt
</code></pre></div>

<h3 id="basics"><a class="toclink" href="#basics">Basics</a></h3>
<h4 id="compare-two-folders"><a class="toclink" href="#compare-two-folders">Compare Two Folders</a></h4>
<div class="highlight"><pre><span></span><code>diff -qr /path/to/folder1 /path/to/folder2
</code></pre></div>

<h4 id="copy-large-file-with-progress"><a class="toclink" href="#copy-large-file-with-progress">Copy Large File with Progress</a></h4>
<p>Make sure you have <code>pv</code> installed and replace <code>/dev/rdisk2</code> with the
appropriate write device or file.</p>
<div class="highlight"><pre><span></span><code><span class="nv">FILE</span><span class="o">=</span>/path/to/file.iso pv -s <span class="k">$(</span>du -h <span class="nv">$FILE</span> <span class="p">|</span> awk <span class="s1">'/.*/ {print $1}'</span><span class="k">)</span> <span class="nv">$FILE</span> <span class="p">|</span> sudo dd <span class="nv">of</span><span class="o">=</span>/dev/rdisk2 <span class="nv">bs</span><span class="o">=</span>1m
</code></pre></div>

<h4 id="restore-sane-shell"><a class="toclink" href="#restore-sane-shell">Restore Sane Shell</a></h4>
<p>In case your shell session went insane (some script or application turned it
into a garbled mess).</p>
<div class="highlight"><pre><span></span><code>stty sane
</code></pre></div>

<h4 id="restart"><a class="toclink" href="#restart">Restart</a></h4>
<div class="highlight"><pre><span></span><code>sudo reboot
</code></pre></div>

<h4 id="shutdown"><a class="toclink" href="#shutdown">Shutdown</a></h4>
<div class="highlight"><pre><span></span><code>sudo poweroff
</code></pre></div>

<h4 id="show-build-number-of-os"><a class="toclink" href="#show-build-number-of-os">Show Build Number of OS</a></h4>
<div class="highlight"><pre><span></span><code>sw_vers
</code></pre></div>

<h4 id="uptime"><a class="toclink" href="#uptime">Uptime</a></h4>
<p>How long since your last restart.</p>
<div class="highlight"><pre><span></span><code>uptime
</code></pre></div>

<h3 id="clipboard"><a class="toclink" href="#clipboard">Clipboard</a></h3>
<h4 id="copy-data-to-clipboard"><a class="toclink" href="#copy-data-to-clipboard">Copy data to Clipboard</a></h4>
<div class="highlight"><pre><span></span><code>cat whatever.txt <span class="p">|</span> pbcopy
</code></pre></div>

<h4 id="convert-clipboard-to-plain-text"><a class="toclink" href="#convert-clipboard-to-plain-text">Convert Clipboard to Plain Text</a></h4>
<div class="highlight"><pre><span></span><code>pbpaste <span class="p">|</span> textutil -convert txt -stdin -stdout -encoding <span class="m">30</span> <span class="p">|</span> pbcopy
</code></pre></div>

<h4 id="convert-tabs-to-spaces-for-clipboard-content"><a class="toclink" href="#convert-tabs-to-spaces-for-clipboard-content">Convert Tabs to Spaces for Clipboard Content</a></h4>
<div class="highlight"><pre><span></span><code>pbpaste <span class="p">|</span> expand <span class="p">|</span> pbcopy
</code></pre></div>

<h4 id="copy-data-from-clipboard"><a class="toclink" href="#copy-data-from-clipboard">Copy data from Clipboard</a></h4>
<div class="highlight"><pre><span></span><code>pbpaste &gt; whatever.txt
</code></pre></div>

<h4 id="sort-and-strip-duplicate-lines-from-clipboard-content"><a class="toclink" href="#sort-and-strip-duplicate-lines-from-clipboard-content">Sort and Strip Duplicate Lines from Clipboard Content</a></h4>
<div class="highlight"><pre><span></span><code>pbpaste <span class="p">|</span> sort <span class="p">|</span> uniq <span class="p">|</span> pbcopy
</code></pre></div>

<h3 id="filevault"><a class="toclink" href="#filevault">FileVault</a></h3>
<h4 id="automatically-unlock-filevault-on-restart"><a class="toclink" href="#automatically-unlock-filevault-on-restart">Automatically Unlock FileVault on Restart</a></h4>
<p>If FileVault is enabled on the current volume, it restarts the system,
bypassing the initial unlock. The command may not work on all systems.</p>
<div class="highlight"><pre><span></span><code>sudo fdesetup authrestart
</code></pre></div>

<h4 id="filevault-service"><a class="toclink" href="#filevault-service">FileVault Service</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
sudo fdesetup status

<span class="c1"># Enable</span>
sudo fdesetup <span class="nb">enable</span>

<span class="c1"># Disable (Default)</span>
sudo fdesetup disable
</code></pre></div>

<h3 id="informationreports"><a class="toclink" href="#informationreports">Information/Reports</a></h3>
<h4 id="generate-advanced-system-and-performance-report"><a class="toclink" href="#generate-advanced-system-and-performance-report">Generate Advanced System and Performance Report</a></h4>
<div class="highlight"><pre><span></span><code>sudo sysdiagnose -f ~/Desktop/
</code></pre></div>

<h3 id="installation"><a class="toclink" href="#installation">Installation</a></h3>
<h4 id="create-bootable-installer"><a class="toclink" href="#create-bootable-installer">Create Bootable Installer</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># macOS 11 (Big Sur)</span>
sudo /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>Big<span class="se">\ </span>Sur.app/Contents/Resources/createinstallmedia --volume /Volumes/USB --nointeraction --downloadassets

<span class="c1"># macOS 10.15 (Catalina)</span>
sudo /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>Catalina.app/Contents/Resources/createinstallmedia --volume /Volumes/USB --nointeraction --downloadassets

<span class="c1"># macOS 10.14 (Mojave)</span>
sudo /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/USB --nointeraction --downloadassets

<span class="c1"># macOS 10.13 (High Sierra)</span>
sudo /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>High<span class="se">\ </span>Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/USB --applicationpath /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>High<span class="se">\ </span>Sierra.app

<span class="c1"># macOS 10.12 (Sierra)</span>
sudo /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/USB --applicationpath /Applications/Install<span class="se">\ </span>macOS<span class="se">\ </span>Sierra.app

<span class="c1"># OS X 10.11 (El Capitan)</span>
sudo /Applications/Install<span class="se">\ </span>OS<span class="se">\ </span>X<span class="se">\ </span>El<span class="se">\ </span>Capitan.app/Contents/Resources/createinstallmedia --volume /Volumes/USB --applicationpath /Applications/Install<span class="se">\ </span>OS<span class="se">\ </span>X<span class="se">\ </span>El<span class="se">\ </span>Capitan.app

<span class="c1"># OS X 10.10 (Yosemite)</span>
sudo /Applications/Install<span class="se">\ </span>OS<span class="se">\ </span>X<span class="se">\ </span>Yosemite.app/Contents/Resources/createinstallmedia --volume /Volumes/USB --applicationpath /Applications/Install<span class="se">\ </span>OS<span class="se">\ </span>X<span class="se">\ </span>Yosemite.app
</code></pre></div>

<ul>
<li>For confirmation before erasing the drive, remove <code>–-nointeraction</code> from the
  command.</li>
<li>The optional <code>–-downloadassets</code> flag is new in macOS 10.14 (Mojave). It
  downloads assets which may be required during installation, like updates.</li>
<li>The <code>–-applicationpath</code> flag is deprecated since macOS 10.14 (Mojave) and
  will throw an error if used.</li>
</ul>
<h4 id="download-older-os-versions"><a class="toclink" href="#download-older-os-versions">Download Older OS Versions</a></h4>
<table>
<thead>
<tr>
<th>Version</th>
<th>Codename</th>
<th>Download</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mac OS X 10.0</td>
<td>Cheetah</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.1</td>
<td>Puma</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.2</td>
<td>Jaguar</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.3</td>
<td>Panther</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.4</td>
<td>Tiger</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.5</td>
<td>Leopard</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.6</td>
<td>Snow Leopard</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.7</td>
<td>Lion</td>
<td><a href="https://updates.cdn-apple.com/2021/macos/041-7683-20210614-E610947E-C7CE-46EB-8860-D26D71F0D3EA/InstallMacOSX.dmg">Direct Download</a></td>
</tr>
<tr>
<td>OS X 10.8</td>
<td>Mountain Lion</td>
<td><a href="https://updates.cdn-apple.com/2021/macos/031-0627-20210614-90D11F33-1A65-42DD-BBEA-E1D9F43A6B3F/InstallMacOSX.dmg">Direct Download</a></td>
</tr>
<tr>
<td>OS X 10.9</td>
<td>Mavericks</td>
<td>n/a</td>
</tr>
<tr>
<td>OS X 10.10</td>
<td>Yosemite</td>
<td><a href="http://updates-http.cdn-apple.com/2019/cert/061-41343-20191023-02465f92-3ab5-4c92-bfe2-b725447a070d/InstallMacOSX.dmg">Direct Download</a></td>
</tr>
<tr>
<td>OS X 10.11</td>
<td>El Capitan</td>
<td><a href="http://updates-http.cdn-apple.com/2019/cert/061-41424-20191024-218af9ec-cf50-4516-9011-228c78eda3d2/InstallMacOSX.dmg">Direct Download</a></td>
</tr>
<tr>
<td>macOS 10.12</td>
<td>Sierra</td>
<td><a href="http://updates-http.cdn-apple.com/2019/cert/061-39476-20191023-48f365f4-0015-4c41-9f44-39d3d2aca067/InstallOS.dmg">Direct Download</a></td>
</tr>
<tr>
<td>macOS 10.13</td>
<td>High Sierra</td>
<td><a href="https://apps.apple.com/de/app/macos-high-sierra/id1246284741">App Store</a></td>
</tr>
<tr>
<td>macOS 10.14</td>
<td>Mojave</td>
<td><a href="https://apps.apple.com/de/app/macos-mojave/id1398502828">App Store</a></td>
</tr>
<tr>
<td>macOS 10.15</td>
<td>Catalina</td>
<td><a href="https://apps.apple.com/de/app/macos-catalina/id1466841314">App Store</a></td>
</tr>
<tr>
<td>macOS 11</td>
<td>Big Sur</td>
<td><a href="https://apps.apple.com/de/app/macos-big-sur/id1526878132">App Store</a></td>
</tr>
<tr>
<td>macOS 12</td>
<td>Monterey</td>
<td><a href="https://apps.apple.com/de/app/macos-monterey/id1576738294">App Store</a></td>
</tr>
</tbody>
</table>
<h3 id="kernel-extensions"><a class="toclink" href="#kernel-extensions">Kernel Extensions</a></h3>
<h4 id="display-status-of-loaded-kernel-extensions"><a class="toclink" href="#display-status-of-loaded-kernel-extensions">Display Status of Loaded Kernel Extensions</a></h4>
<div class="highlight"><pre><span></span><code>sudo kextstat -l
</code></pre></div>

<h4 id="load-kernel-extension"><a class="toclink" href="#load-kernel-extension">Load Kernel Extension</a></h4>
<div class="highlight"><pre><span></span><code>sudo kextload -b com.apple.driver.ExampleBundle
</code></pre></div>

<h4 id="unload-kernel-extensions"><a class="toclink" href="#unload-kernel-extensions">Unload Kernel Extensions</a></h4>
<div class="highlight"><pre><span></span><code>sudo kextunload -b com.apple.driver.ExampleBundle
</code></pre></div>

<h3 id="launchagents"><a class="toclink" href="#launchagents">LaunchAgents</a></h3>
<p>Please see <a href="launchagents.md">this file</a>.</p>
<h3 id="launchservices"><a class="toclink" href="#launchservices">LaunchServices</a></h3>
<h4 id="rebuild-launchservices-database"><a class="toclink" href="#rebuild-launchservices-database">Rebuild LaunchServices Database</a></h4>
<p>To be independent of OS X version, this relies on <code>locate</code> to find
<code>lsregister</code>. If you do not have your <code>locate</code> database built yet, <a href="#build-locate-database">do
it</a>.</p>
<div class="highlight"><pre><span></span><code>sudo <span class="k">$(</span>locate lsregister<span class="k">)</span> -kill -seed -r
</code></pre></div>

<h3 id="login-window"><a class="toclink" href="#login-window">Login Window</a></h3>
<h4 id="set-login-window-text"><a class="toclink" href="#set-login-window-text">Set Login Window Text</a></h4>
<div class="highlight"><pre><span></span><code>sudo defaults write /Library/Preferences/com.apple.loginwindow LoginwindowText <span class="s2">"Your text"</span>
</code></pre></div>

<h3 id="memory-management"><a class="toclink" href="#memory-management">Memory Management</a></h3>
<h4 id="purge-memory-cache"><a class="toclink" href="#purge-memory-cache">Purge memory cache</a></h4>
<div class="highlight"><pre><span></span><code>sudo purge
</code></pre></div>

<h4 id="show-memory-statistics"><a class="toclink" href="#show-memory-statistics">Show Memory Statistics</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># One time</span>
vm_stat

<span class="c1"># Table of data, repeat 10 times total, 1 second wait between each poll</span>
vm_stat -c <span class="m">10</span> <span class="m">1</span>
</code></pre></div>

<h3 id="notification-center"><a class="toclink" href="#notification-center">Notification Center</a></h3>
<h4 id="notification-center-service"><a class="toclink" href="#notification-center-service">Notification Center Service</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
launchctl unload -w /System/Library/LaunchAgents/com.apple.notificationcenterui.plist <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall -9 NotificationCenter

<span class="c1"># Enable (Default)</span>
launchctl load -w /System/Library/LaunchAgents/com.apple.notificationcenterui.plist
</code></pre></div>

<h3 id="quicklook"><a class="toclink" href="#quicklook">QuickLook</a></h3>
<h4 id="preview-via-quicklook"><a class="toclink" href="#preview-via-quicklook">Preview via QuickLook</a></h4>
<div class="highlight"><pre><span></span><code>qlmanage -p /path/to/file
</code></pre></div>

<h3 id="remote-management"><a class="toclink" href="#remote-management">Remote Management</a></h3>
<p>See also: <a href="#apple-remote-desktop">Apple Remote Desktop</a>.</p>
<h4 id="prevent-double-password-entry"><a class="toclink" href="#prevent-double-password-entry">Prevent Double Password Entry</a></h4>
<p>When logging into a Mac remotely via Apple Remote Desktop or VNC, you are
sometimes required to enter your password a second time after connecting to the
Mac. While you can disable this behavior, it is explicitly not recommend to
turn this functionality off unless you are certain that no one else will be
able to access your Mac physically when you are away.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
sudo defaults write /Library/Preferences/com.apple.RemoteManagement.plist RestoreMachineState -bool <span class="nb">false</span>

<span class="c1"># Enable (Default)</span>
sudo defaults write /Library/Preferences/com.apple.RemoteManagement.plist RestoreMachineState -bool <span class="nb">true</span>
</code></pre></div>

<h4 id="remote-apple-events"><a class="toclink" href="#remote-apple-events">Remote Apple Events</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
sudo systemsetup -getremoteappleevents

<span class="c1"># Enable</span>
sudo systemsetup -setremoteappleevents on

<span class="c1"># Disable (Default)</span>
sudo systemsetup -setremoteappleevents off
</code></pre></div>

<h3 id="root-user"><a class="toclink" href="#root-user">Root User</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
dsenableroot

<span class="c1"># Disable (Default)</span>
dsenableroot -d
</code></pre></div>

<h3 id="safe-mode-boot"><a class="toclink" href="#safe-mode-boot">Safe Mode Boot</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
nvram boot-args

<span class="c1"># Enable</span>
sudo nvram boot-args<span class="o">=</span><span class="s2">"-x"</span>

<span class="c1"># Disable (Default)</span>
sudo nvram boot-args<span class="o">=</span><span class="s2">""</span>
</code></pre></div>

<h3 id="save-dialogs"><a class="toclink" href="#save-dialogs">Save Dialogs</a></h3>
<p>Significantly improve the now rather slow animation in save dialogs.</p>
<div class="highlight"><pre><span></span><code>defaults write NSGlobalDomain NSWindowResizeTime .001
</code></pre></div>

<h3 id="screenshots"><a class="toclink" href="#screenshots">Screenshots</a></h3>
<h4 id="take-delayed-screenshot"><a class="toclink" href="#take-delayed-screenshot">Take Delayed Screenshot</a></h4>
<p>Takes a screenshot as JPEG after 3 seconds and displays in Preview.</p>
<div class="highlight"><pre><span></span><code>screencapture -T <span class="m">3</span> -t jpg -P delayedpic.jpg
</code></pre></div>

<h4 id="save-screenshots-to-given-location"><a class="toclink" href="#save-screenshots-to-given-location">Save Screenshots to Given Location</a></h4>
<p>Sets location to <code>~/Desktop</code>.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.screencapture location ~/Desktop <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall SystemUIServer
</code></pre></div>

<h4 id="save-screenshots-in-given-format"><a class="toclink" href="#save-screenshots-in-given-format">Save Screenshots in Given Format</a></h4>
<p>Sets format to <code>png</code>. Other options are <code>bmp</code>, <code>gif</code>, <code>jpg</code>, <code>jpeg</code>, <code>pdf</code>,
<code>tiff</code>.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.screencapture <span class="nb">type</span> -string <span class="s2">"png"</span>
</code></pre></div>

<h4 id="disable-shadow-in-screenshots"><a class="toclink" href="#disable-shadow-in-screenshots">Disable Shadow in Screenshots</a></h4>
<div class="highlight"><pre><span></span><code>defaults write com.apple.screencapture disable-shadow -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall SystemUIServer
</code></pre></div>

<h4 id="set-default-screenshot-name"><a class="toclink" href="#set-default-screenshot-name">Set Default Screenshot Name</a></h4>
<p>Date and time remain unchanged.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.screencapture name <span class="s2">"Example name"</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
killall SystemUIServer
</code></pre></div>

<h3 id="software-installation"><a class="toclink" href="#software-installation">Software Installation</a></h3>
<h4 id="install-pkg"><a class="toclink" href="#install-pkg">Install PKG</a></h4>
<div class="highlight"><pre><span></span><code>installer -pkg /path/to/installer.pkg -target /
</code></pre></div>

<h3 id="sidecar"><a class="toclink" href="#sidecar">Sidecar</a></h3>
<h4 id="use-on-incompatible-macs"><a class="toclink" href="#use-on-incompatible-macs">Use on Incompatible Macs</a></h4>
<p>This may or may not work, depending on the age of the machine.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable</span>
defaults write com.apple.sidecar.display AllowAllDevices -bool <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
defaults write com.apple.sidecar.display hasShownPref -bool <span class="nb">true</span>

<span class="c1"># Disable (Default)</span>
defaults delete com.apple.sidecar.display
</code></pre></div>

<h3 id="software-update"><a class="toclink" href="#software-update">Software Update</a></h3>
<h4 id="ignore-specific-software-update"><a class="toclink" href="#ignore-specific-software-update">Ignore Specific Software Update</a></h4>
<p>The identifier can be found via <code>softwareupdate --list</code>. In the example below,
being on macOS 10.14 (Mojave), will ignore all update prompts to macOS 10.15
(Catalina), since the latter removes 32-bit support.</p>
<div class="highlight"><pre><span></span><code>sudo /usr/sbin/softwareupdate --ignore <span class="s2">"macOS Catalina"</span>
</code></pre></div>

<h4 id="install-all-available-software-updates"><a class="toclink" href="#install-all-available-software-updates">Install All Available Software Updates</a></h4>
<div class="highlight"><pre><span></span><code>sudo softwareupdate -ia
</code></pre></div>

<h4 id="set-software-update-check-interval"><a class="toclink" href="#set-software-update-check-interval">Set Software Update Check Interval</a></h4>
<p>Set to check daily instead of weekly.</p>
<div class="highlight"><pre><span></span><code>defaults write com.apple.SoftwareUpdate ScheduleFrequency -int <span class="m">1</span>
</code></pre></div>

<h4 id="show-available-software-updates"><a class="toclink" href="#show-available-software-updates">Show Available Software Updates</a></h4>
<div class="highlight"><pre><span></span><code>sudo softwareupdate --list
</code></pre></div>

<h4 id="set-software-update-server"><a class="toclink" href="#set-software-update-server">Set Software Update Server</a></h4>
<p>This should only be done for testing purposes or unmanaged clients. To use
network-wide, either correctly set up DNS along with <a href="http://krypted.com/mac-security/using-the-software-update-service-on-mountain-lion-server/">Apple SUS
service</a>
and bind your clients via OpenDirectory. Alternatively, use
<a href="https://github.com/wdas/reposado">Reposado</a> together with correct network DNS
settings to make resolution transparent.
<a href="https://github.com/jessepeterson/margarita">Margarita</a> looks nice to have as
well.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Use own SUS</span>
sudo defaults write /Library/Preferences/com.apple.SoftwareUpdate CatalogURL http://su.example.com:8088/index.sucatalog

<span class="c1"># Reset to Apple SUS</span>
sudo defaults delete /Library/Preferences/com.apple.SoftwareUpdate CatalogURL
</code></pre></div>

<h3 id="software-version"><a class="toclink" href="#software-version">Software Version</a></h3>
<h4 id="show-system-software-version"><a class="toclink" href="#show-system-software-version">Show System Software Version</a></h4>
<p>There are several ways to obtain different levels of detail.</p>
<div class="highlight"><pre><span></span><code>sw_vers -productVersion
</code></pre></div>

<div class="highlight"><pre><span></span><code>system_profiler SPSoftwareDataType
</code></pre></div>

<div class="highlight"><pre><span></span><code>defaults <span class="nb">read</span> loginwindow SystemVersionStampAsString
</code></pre></div>

<h3 id="spotlight"><a class="toclink" href="#spotlight">Spotlight</a></h3>
<h4 id="spotlight-indexing"><a class="toclink" href="#spotlight-indexing">Spotlight Indexing</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable</span>
mdutil -i off -d /path/to/volume

<span class="c1"># Enable (Default)</span>
mdutil -i on /path/to/volume
</code></pre></div>

<h4 id="erase-spotlight-index-and-rebuild"><a class="toclink" href="#erase-spotlight-index-and-rebuild">Erase Spotlight Index and Rebuild</a></h4>
<div class="highlight"><pre><span></span><code>mdutil -E /path/to/volume
</code></pre></div>

<h4 id="search-via-spotlight"><a class="toclink" href="#search-via-spotlight">Search via Spotlight</a></h4>
<div class="highlight"><pre><span></span><code>mdfind -name <span class="s1">'searchterm'</span>
</code></pre></div>

<h4 id="show-spotlight-indexed-metadata"><a class="toclink" href="#show-spotlight-indexed-metadata">Show Spotlight Indexed Metadata</a></h4>
<div class="highlight"><pre><span></span><code>mdls /path/to/file
</code></pre></div>

<h3 id="system-integrity-protection"><a class="toclink" href="#system-integrity-protection">System Integrity Protection</a></h3>
<p>Reboot while holding <kbd>Cmd</kbd> + <kbd>R</kbd> and open the Terminal
application. You will need to <code>reboot</code> for the commands to take effect.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
csrutil status

<span class="c1"># Enable (Default)</span>
csrutil <span class="nb">enable</span>

<span class="c1"># Disable</span>
csrutil disable
</code></pre></div>

<h3 id="date-and-time"><a class="toclink" href="#date-and-time">Date and Time</a></h3>
<h4 id="list-available-timezones"><a class="toclink" href="#list-available-timezones">List Available Timezones</a></h4>
<div class="highlight"><pre><span></span><code>sudo systemsetup -listtimezones
</code></pre></div>

<h4 id="set-timezone"><a class="toclink" href="#set-timezone">Set Timezone</a></h4>
<div class="highlight"><pre><span></span><code>sudo systemsetup -settimezone Europe/Berlin
</code></pre></div>

<h4 id="set-clock-using-network-time"><a class="toclink" href="#set-clock-using-network-time">Set Clock Using Network Time</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Status</span>
sudo systemsetup getusingnetworktime

<span class="c1"># Enable (Default)</span>
sudo systemsetup setusingnetworktime on

<span class="c1"># Disable</span>
sudo systemsetup setusingnetworktime off
</code></pre></div>

<h4 id="set-menu-bar-clock-output-format"><a class="toclink" href="#set-menu-bar-clock-output-format">Set Menu Bar Clock Output Format</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># System Preferences &gt; Date &amp; Time &gt; Time options</span>
<span class="c1"># Analogue</span>
sudo defaults write com.apple.menuextra.clock IsAnalog -bool <span class="nb">true</span>
<span class="c1"># Digital (Default)</span>
sudo defaults write com.apple.menuextra.clock IsAnalog -bool <span class="nb">false</span>

<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Flash the time separators</span>
<span class="c1"># Enable</span>
sudo defaults write com.apple.menuextra.clock FlashDateSeparators -bool <span class="nb">true</span>
<span class="c1"># Disable (Default)</span>
sudo defaults write com.apple.menuextra.clock FlashDateSeparators -bool <span class="nb">false</span>

<span class="c1"># Thu 18 Aug 23:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE d MMM HH:mm:ss"</span>

<span class="c1"># Thu 23:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE HH:mm:ss"</span>

<span class="c1"># 18 Aug 23:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"d MMM HH:mm:ss"</span>

<span class="c1"># 23:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"HH:mm:ss"</span>

<span class="c1"># Thu 18 Aug 11:46:18 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE d MMM h:mm:ss a"</span>


<span class="c1"># Thu 11:46:18 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE h:mm:ss a"</span>

<span class="c1"># 18 Aug 11:46:18 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"d MMM h:mm:ss a"</span>

<span class="c1"># 11:46:18 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"h:mm:ss a"</span>

<span class="c1"># Thu 18 Aug 11:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE d MMM h:mm:ss"</span>

<span class="c1"># Thu 11:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE h:mm:ss"</span>

<span class="c1"># 18 Aug 11:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"d MMM h:mm:ss"</span>

<span class="c1"># 11:46:18</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Checked [:ss]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"h:mm:ss"</span>

<span class="c1"># Thu 18 Aug 23:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE d MMM HH:mm"</span>

<span class="c1"># Thu 23:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE HH:mm"</span>

<span class="c1"># 18 Aug 23:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"d MMM HH:mm"</span>

<span class="c1"># 23:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Checked [HH:mm]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"HH:mm"</span>

<span class="c1"># Thu 18 Aug 11:46 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE d MMM h:mm a"</span>

<span class="c1"># Thu 11:46 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE h:mm a"</span>

<span class="c1"># 18 Aug 11:46 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"d MMM h:mm a"</span>

<span class="c1"># 11:46 pm</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Checked [a]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"h:mm a"</span>

<span class="c1"># Thu 18 Aug 11:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE d MMM h:mm"</span>

<span class="c1"># Thu 11:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Checked [EEE]</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"EEE h:mm"</span>

<span class="c1"># 18 Aug 11:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Checked [d MMM]</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"d MMM h:mm"</span>

<span class="c1"># 11:46</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Display time with seconds - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Use a 24-hour clock - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show AM/PM - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show the day of the week - Unchecked</span>
<span class="c1"># System Preferences &gt; Date &amp; Time &gt; Show date - Unchecked</span>
sudo defaults write com.apple.menuextra.clock DateFormat -string <span class="s2">"h:mm"</span>

<span class="c1"># Apply changes immediately</span>
sudo killall SystemUIServer
</code></pre></div>

<p>(<a href="https://github.com/tech-otaku/macos-defaults/blob/master/date-time.sh">Source</a>)</p>
<h2 id="terminal_1"><a class="toclink" href="#terminal_1">Terminal</a></h2>
<h4 id="ring-terminal-bell"><a class="toclink" href="#ring-terminal-bell">Ring Terminal Bell</a></h4>
<p>Rings the terminal bell (if enabled) and puts a badge on it.</p>
<div class="highlight"><pre><span></span><code>tput bel
</code></pre></div>

<h3 id="alternative-terminals"><a class="toclink" href="#alternative-terminals">Alternative Terminals</a></h3>
<ul>
<li><a href="https://github.com/jwilm/alacritty">Alacritty</a> - Cross-platform,
  GPU-accelerated terminal emulator.</li>
<li><a href="https://iterm2.com">iTerm2</a> - A better Terminal.app.</li>
<li><a href="https://sw.kovidgoyal.net/kitty/">kitty</a> - Modern, GPU-accelerated terminal
  emulator.</li>
</ul>
<h3 id="shells"><a class="toclink" href="#shells">Shells</a></h3>
<h4 id="bash"><a class="toclink" href="#bash">Bash</a></h4>
<p>Install the latest version and set as current user's default shell:</p>
<div class="highlight"><pre><span></span><code>brew install bash <span class="o">&amp;&amp;</span> <span class="se">\</span>
<span class="nb">echo</span> <span class="k">$(</span>brew --prefix<span class="k">)</span>/bin/bash <span class="p">|</span> sudo tee -a /etc/shells <span class="o">&amp;&amp;</span> <span class="se">\</span>
chsh -s <span class="k">$(</span>brew --prefix<span class="k">)</span>/bin/bash
</code></pre></div>

<ul>
<li><a href="https://www.gnu.org/software/bash/">Homepage</a> - The default shell for OS X
  and most other Unix-based operating systems.</li>
<li><a href="https://github.com/Bash-it/bash-it">Bash-it</a> - Community Bash framework,
  like Oh My Zsh for Bash.</li>
</ul>
<h4 id="fish"><a class="toclink" href="#fish">fish</a></h4>
<p>Install the latest version and set as current user's default shell:</p>
<div class="highlight"><pre><span></span><code>brew install fish <span class="o">&amp;&amp;</span> <span class="se">\</span>
<span class="nb">echo</span> <span class="k">$(</span>brew --prefix<span class="k">)</span>/bin/fish <span class="p">|</span> sudo tee -a /etc/shells <span class="o">&amp;&amp;</span> <span class="se">\</span>
chsh -s <span class="k">$(</span>brew --prefix<span class="k">)</span>/bin/fish
</code></pre></div>

<ul>
<li><a href="http://fishshell.com">Homepage</a> - A smart and user-friendly command line
  shell for OS X, Linux, and the rest of the family.</li>
<li><a href="https://github.com/oh-my-fish/oh-my-fish">The Fishshell Framework</a> -
  Provides core infrastructure to allow you to install packages which extend or
  modify the look of your shell.</li>
<li><a href="https://github.com/ellerbrock/fish-shell-setup-osx">Installation &amp; Configuration
  Tutorial</a> - How to Setup
  Fish Shell with Fisherman, Powerline Fonts, iTerm2 and Budspencer Theme on OS
  X.</li>
</ul>
<h4 id="zsh"><a class="toclink" href="#zsh">Zsh</a></h4>
<p>Install the latest version and set as current user's default shell:</p>
<div class="highlight"><pre><span></span><code>brew install zsh <span class="o">&amp;&amp;</span> <span class="se">\</span>
sudo sh -c <span class="s1">'echo $(brew --prefix)/bin/zsh &gt;&gt; /etc/shells'</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
chsh -s <span class="k">$(</span>brew --prefix<span class="k">)</span>/bin/zsh
</code></pre></div>

<ul>
<li><a href="http://www.zsh.org">Homepage</a> - Zsh is a shell designed for interactive use,
  although it is also a powerful scripting language.</li>
<li><a href="http://ohmyz.sh">Oh My Zsh</a> - An open source, community-driven framework for
  managing your Zsh configuration.</li>
<li><a href="https://github.com/sorin-ionescu/prezto">Prezto</a> - A speedy Zsh framework.
  Enriches the command line interface environment with sane defaults, aliases,
  functions, auto completion, and prompt themes.</li>
<li><a href="https://github.com/tarjoilija/zgen">zgen</a> - Another open source framework
  for managing your zsh configuration. Zgen will load oh-my-zsh compatible
  plugins and themes and has the advantage of both being faster and
  automatically cloning any plugins used in your configuration for you.</li>
</ul>
<h3 id="terminal-fonts"><a class="toclink" href="#terminal-fonts">Terminal Fonts</a></h3>
<ul>
<li><a href="http://www.marksimonson.com/fonts/view/anonymous-pro">Anonymous Pro</a> - A
  family of four fixed-width fonts designed with coding in mind.</li>
<li><a href="https://github.com/chrissimpkins/codeface">Codeface</a> - A gallery and
  repository of monospaced fonts for developers.</li>
<li><a href="https://dejavu-fonts.github.io/">DejaVu Sans Mono</a> - A font family based on
  the Vera Fonts.</li>
<li><a href="https://github.com/belluzj/fantasque-sans">Fantasque Sans Mono</a> - Designed
  with functionality in mind, and with some wibbly-wobbly handwriting-like
  fuzziness that makes it unassumingly cool.</li>
<li><a href="http://sourcefoundry.org/hack/">Hack</a> - Hack is hand groomed and optically
  balanced to be your go-to code face.</li>
<li><a href="http://levien.com/type/myfonts/inconsolata.html">Inconsolata</a> -  A monospace
  font, designed for code listings and the like.</li>
<li><a href="http://input.fontbureau.com">Input</a> - A flexible system of fonts designed
  specifically for code.</li>
<li><a href="https://github.com/andreberg/Meslo-Font">Meslo</a> - Customized version of
  Apple's Menlo font.</li>
<li><a href="https://www.typography.com/fonts/operator/overview/">Operator Mono</a> - A
  surprisingly usable alternative take on a monospace font (commercial).</li>
<li><a href="https://github.com/powerline/fonts">Powerline Fonts</a> - Repo of patched fonts
  for the Powerline plugin.</li>
<li><a href="https://adobe-fonts.github.io/source-code-pro/">Source Code Pro</a> - A
  monospaced font family for user interfaces and coding environments.</li>
</ul>
<h2 id="glossary"><a class="toclink" href="#glossary">Glossary</a></h2>
<h3 id="mac-os-x-os-x-and-macos-version-information"><a class="toclink" href="#mac-os-x-os-x-and-macos-version-information">Mac OS X, OS X, and macOS Version Information</a></h3>
<table>
<thead>
<tr>
<th>Version</th>
<th>Codename</th>
<th>Release Date</th>
<th>Most Recent Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Rhapsody Developer Release</td>
<td>Grail1Z4 / Titan1U</td>
<td>August 31, 1997</td>
<td>DR2 (May 14, 1998)</td>
</tr>
<tr>
<td>Mac OS X Server 1.0</td>
<td>Hera</td>
<td>March 16, 1999</td>
<td>1.2v3 (October 27, 2000)</td>
</tr>
<tr>
<td>Mac OS X Developer Preview</td>
<td>n/a</td>
<td>March 16, 1999</td>
<td>DP4 (April 5, 2000)</td>
</tr>
<tr>
<td>Mac OS X Public Beta</td>
<td>Kodiak</td>
<td>September 13, 2000</td>
<td>n/a</td>
</tr>
<tr>
<td>Mac OS X 10.0</td>
<td>Cheetah</td>
<td>March 24, 2001</td>
<td>10.0.4 (June 22, 2001)</td>
</tr>
<tr>
<td>Mac OS X 10.1</td>
<td>Puma</td>
<td>September 25, 2001</td>
<td>10.1.5 (June 6, 2002)</td>
</tr>
<tr>
<td>Mac OS X 10.2</td>
<td>Jaguar</td>
<td>August 24, 2002</td>
<td>10.2.8 (October 3, 2003)</td>
</tr>
<tr>
<td>Mac OS X 10.3</td>
<td>Panther</td>
<td>October 24, 2003</td>
<td>10.3.9 (April 15, 2005)</td>
</tr>
<tr>
<td>Mac OS X 10.4</td>
<td>Tiger</td>
<td>April 29, 2005</td>
<td>10.4.11 (November 14, 2007)</td>
</tr>
<tr>
<td>Mac OS X 10.5</td>
<td>Leopard</td>
<td>October 26, 2007</td>
<td>10.5.8 (August 5, 2009)</td>
</tr>
<tr>
<td>Mac OS X 10.6</td>
<td>Snow Leopard</td>
<td>August 28, 2009</td>
<td>10.6.8 v1.1 (July 25, 2011)</td>
</tr>
<tr>
<td>Mac OS X 10.7</td>
<td>Lion</td>
<td>July 20, 2011</td>
<td>10.7.5 (September 19, 2012)</td>
</tr>
<tr>
<td>OS X 10.8</td>
<td>Mountain Lion</td>
<td>July 25, 2012</td>
<td>10.8.5 (12F2560) (August 13, 2015)</td>
</tr>
<tr>
<td>OS X 10.9</td>
<td>Mavericks</td>
<td>October 22, 2013</td>
<td>10.9.5 (13F1911) (July 18, 2016)</td>
</tr>
<tr>
<td>OS X 10.10</td>
<td>Yosemite</td>
<td>October 16, 2014</td>
<td>10.10.5 (14F2511) (July 19, 2017)</td>
</tr>
<tr>
<td>OS X 10.11</td>
<td>El Capitan</td>
<td>September 30, 2015</td>
<td>10.11.6 (15G22010) (July 9, 2018)</td>
</tr>
<tr>
<td>macOS 10.12</td>
<td>Sierra</td>
<td>September 20, 2016</td>
<td>10.12.6 (16G2136) (September 26, 2019)</td>
</tr>
<tr>
<td>macOS 10.13</td>
<td>High Sierra</td>
<td>September 25, 2017</td>
<td>10.13.6 (17G14042) (November 12, 2020)</td>
</tr>
<tr>
<td>macOS 10.14</td>
<td>Mojave</td>
<td>September 24, 2018</td>
<td>10.14.6 (18G9323) (July 21, 2021)</td>
</tr>
<tr>
<td>macOS 10.15</td>
<td>Catalina</td>
<td>October 7, 2019</td>
<td>10.15.7 (19H1323) (July 21, 2021)</td>
</tr>
<tr>
<td>macOS 11</td>
<td>Big Sur</td>
<td>November 12, 2020</td>
<td>11.6 (20G165) (September 13, 2021)</td>
</tr>
<tr>
<td>macOS 12</td>
<td>Monterey</td>
<td>October 25, 2021</td>
<td>12.4 (21F79) (May 16, 2022)</td>
</tr>
<tr>
<td>macOS 13</td>
<td>Ventura</td>
<td>tba</td>
<td>13.0 beta 3 (22A5295h) (July 6, 2022)</td>
</tr>
</tbody>
</table>